{"ID":"20230921165025-klmxvqt","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230921165025-klmxvqt","title":"BigData","updated":"20231020213302"},"Children":[{"ID":"20230923103054-tnf9m3s","Type":"NodeParagraph","Properties":{"id":"20230923103054-tnf9m3s","updated":"20230923103059"},"Children":[{"Type":"NodeText","Data":"node1:9870","Properties":{"id":""}}]},{"ID":"20230921165250-5v7xs80","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230921165250-5v7xs80","updated":"20231014164141"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"启动环境(要在 hadoop 用户下）","Properties":{"id":""}}]},{"ID":"20230921165309-cfkj4lu","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230921165309-cfkj4lu","updated":"20231014172017"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"# 1.启动hdfs\nstart-dfs.sh\n# 停止\nstop-dfs.sh\n# 2.启动yarn\nstart-yarn.sh\n# 3.启动历史服务器\nmapred --daemon start historyserver\n# 4.启动metastore(在hive目录下)\n#前台启动 bin/hive --service metastore\n#后台启动 nohup bin/hive --service metastore \u003e\u003e logs/metastore.log 2\u003e\u00261 \u0026\n# 5.启动hive\n#直接写SQL bin/hive\n#可供其他客户端链接 bin/hive --service hiveserver2\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230921165037-bce27uh","Type":"NodeParagraph","Properties":{"id":"20230921165037-bce27uh","updated":"20230921165037"},"Children":[{"Type":"NodeText","Data":"单独控制进程的启停。","Properties":{"id":""}}]},{"ID":"20230921165037-5h4qiw9","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20230921165037-5h4qiw9","updated":"20230921165037"},"Children":[{"ID":"20230921165037-5j3mj0m","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20230921165037-5j3mj0m","updated":"20230921165037"},"Children":[{"ID":"20230921165037-orhxofz","Type":"NodeParagraph","Properties":{"id":"20230921165037-orhxofz","updated":"20230921165037"},"Children":[{"Type":"NodeText","Data":"$HADOOP_HOME/sbin/hadoop-daemon.sh，此脚本可以单独控制所在机器的进程的启停","Properties":{"id":""}}]}]}]},{"ID":"20230921165037-penulzj","Type":"NodeParagraph","Properties":{"id":"20230921165037-penulzj","updated":"20230921165044"},"Children":[{"Type":"NodeText","Data":"用法：hadoop-daemon.sh (start|status|stop)(namenode|secondarynamenode|datanode)","Properties":{"id":""}}]},{"ID":"20230921165037-pk73vhg","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20230921165037-pk73vhg","updated":"20230921165037"},"Children":[{"ID":"20230921165037-u6ci1jn","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20230921165037-u6ci1jn","updated":"20230921165037"},"Children":[{"ID":"20230921165037-pmst7hw","Type":"NodeParagraph","Properties":{"id":"20230921165037-pmst7hw","updated":"20230921165037"},"Children":[{"Type":"NodeText","Data":"$HADOOP_HOME/bin/hdfs，此程序也可以用以单独控制所在机器的进程的启停","Properties":{"id":""}}]}]}]},{"ID":"20230921165037-52xupuc","Type":"NodeParagraph","Properties":{"id":"20230921165037-52xupuc","updated":"20230921165037"},"Children":[{"Type":"NodeText","Data":"用法：hdfs --daemon (start|status|stop) (namenode|secondarynamenode|datanode)","Properties":{"id":""}}]},{"ID":"20230921165025-zo1st8z","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230921165025-zo1st8z","updated":"20230921170346"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"文件系统的操作命令","Properties":{"id":""}}]},{"ID":"20230921170347-drfn702","Type":"NodeParagraph","Properties":{"id":"20230921170347-drfn702","updated":"20230921170410"},"Children":[{"Type":"NodeText","Data":"Hadoop 提供了两套命令:","Properties":{"id":""}}]},{"ID":"20230921170410-z5p6svk","Type":"NodeParagraph","Properties":{"id":"20230921170410-z5p6svk","updated":"20230921170431"},"Children":[{"Type":"NodeText","Data":"hadoop(老版本),用法:hadoop fs","Properties":{"id":""}}]},{"ID":"20230921170433-vgbvavz","Type":"NodeParagraph","Properties":{"id":"20230921170433-vgbvavz","updated":"20230921170501"},"Children":[{"Type":"NodeText","Data":"hdfs（新版本),用法:hdfs dfs","Properties":{"id":""}}]},{"ID":"20230921170508-bkim68t","Type":"NodeList","ListData":{"Typ":1,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20230921170508-bkim68t","updated":"20230921173709"},"Children":[{"ID":"20230921170510-uz8n71w","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20230921170510-uz8n71w","updated":"20230921170510"},"Children":[{"ID":"20230921170510-ebsuviw","Type":"NodeParagraph","Properties":{"id":"20230921170510-ebsuviw","updated":"20230921170514"},"Children":[{"Type":"NodeText","Data":"创建文件夹","Properties":{"id":""}}]},{"ID":"20230921170515-ibrt6wy","Type":"NodeParagraph","Properties":{"id":"20230921170515-ibrt6wy","updated":"20230921170534"},"Children":[{"Type":"NodeText","Data":"hadoop fs -mkdir [-p] \u003cpath\u003e ...","Properties":{"id":""}}]},{"ID":"20230921170534-7vthoey","Type":"NodeParagraph","Properties":{"id":"20230921170534-7vthoey","updated":"20230921170552"},"Children":[{"Type":"NodeText","Data":"hdfs dfs -mkdir [-p] \u003cpath\u003e ...","Properties":{"id":""}}]},{"ID":"20230921170553-k47vy3u","Type":"NodeParagraph","Properties":{"id":"20230921170553-k47vy3u","updated":"20230921170609"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"path"},{"Type":"NodeText","Data":"​​为待创建目录","Properties":{"id":""}}]},{"ID":"20230921170611-yx8gkya","Type":"NodeParagraph","Properties":{"id":"20230921170611-yx8gkya","updated":"20230921170705"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-p"},{"Type":"NodeText","Data":"​​选项与 linux ","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"mkdir"},{"Type":"NodeText","Data":"​​一致会沿着路径创建父目录","Properties":{"id":""}}]}]},{"ID":"20230921170721-akcww2k","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20230921170721-akcww2k","updated":"20230921170721"},"Children":[{"ID":"20230921170721-2hlz88x","Type":"NodeParagraph","Properties":{"id":"20230921170721-2hlz88x","updated":"20230921170732"},"Children":[{"Type":"NodeText","Data":"查看指定目录下内容","Properties":{"id":""}}]},{"ID":"20230921170733-hlv87y7","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921170733-hlv87y7","updated":"20230921170736"},"Children":[{"ID":"20230921170736-3vowk6d","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921170736-3vowk6d","updated":"20230921170736"},"Children":[{"ID":"20230921170736-75ipo20","Type":"NodeParagraph","Properties":{"id":"20230921170736-75ipo20","updated":"20230921170759"},"Children":[{"Type":"NodeText","Data":"hadoop fs -ls [-h] [-R] [\u003cpath\u003e...]","Properties":{"id":""}}]}]},{"ID":"20230921170801-gtgji7r","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921170801-gtgji7r","updated":"20230921170801"},"Children":[{"ID":"20230921170801-52pvmf2","Type":"NodeParagraph","Properties":{"id":"20230921170801-52pvmf2","updated":"20230921170820"},"Children":[{"Type":"NodeText","Data":"hdfs dfs -ls [-h] [-R] [\u003cpath\u003e...]","Properties":{"id":""}}]},{"ID":"20230921170822-iifa4mi","Type":"NodeParagraph","Properties":{"id":"20230921170822-iifa4mi","updated":"20230921170835"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"path"},{"Type":"NodeText","Data":"​​指定目录路径","Properties":{"id":""}}]},{"ID":"20230921170835-hsauvwm","Type":"NodeParagraph","Properties":{"id":"20230921170835-hsauvwm","updated":"20230921170850"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-h"},{"Type":"NodeText","Data":"​​人性化显示文件 size","Properties":{"id":""}}]},{"ID":"20230921170850-y30jxfc","Type":"NodeParagraph","Properties":{"id":"20230921170850-y30jxfc","updated":"20230921170906"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-R"},{"Type":"NodeText","Data":"​​递归查看指定目录及其子目录","Properties":{"id":""}}]}]}]}]},{"ID":"20230921171300-yy6f442","Type":"NodeListItem","Data":"3","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":3,"Marker":"Mw==","Num":3},"Properties":{"id":"20230921171300-yy6f442","updated":"20230921171300"},"Children":[{"ID":"20230921171300-q7yq2ci","Type":"NodeParagraph","Properties":{"id":"20230921171300-q7yq2ci","updated":"20230921171334"},"Children":[{"Type":"NodeText","Data":"上次文件到 HDFS 指定目录下","Properties":{"id":""}}]},{"ID":"20230921171339-3zbqn64","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921171339-3zbqn64","updated":"20230921171341"},"Children":[{"ID":"20230921171341-z8lo5w7","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921171341-z8lo5w7","updated":"20230921171341"},"Children":[{"ID":"20230921171341-wfn7g81","Type":"NodeParagraph","Properties":{"id":"20230921171341-wfn7g81","updated":"20230921171410"},"Children":[{"Type":"NodeText","Data":"hadoop dfs -put [-f] [-p] \u003clocalsrc\u003e ... \u003cdst\u003e","Properties":{"id":""}}]}]},{"ID":"20230921171411-276vzdt","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921171411-276vzdt","updated":"20230921171411"},"Children":[{"ID":"20230921171411-ofgjlwz","Type":"NodeParagraph","Properties":{"id":"20230921171411-ofgjlwz","updated":"20230921171437"},"Children":[{"Type":"NodeText","Data":"hdfs dfs -put [-f] [-p] \u003clocalsrc\u003e ... \u003cdst\u003e","Properties":{"id":""}}]},{"ID":"20230921171439-ugeh0tr","Type":"NodeParagraph","Properties":{"id":"20230921171439-ugeh0tr","updated":"20230921171459"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-f"},{"Type":"NodeText","Data":"​​覆盖目标文件(已存在下)","Properties":{"id":""}}]},{"ID":"20230921171459-njcj524","Type":"NodeParagraph","Properties":{"id":"20230921171459-njcj524","updated":"20230921171541"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-p"},{"Type":"NodeText","Data":"​​保留访问和修改时间，(客户端所在机器）","Properties":{"id":""}}]},{"ID":"20230921171542-y324bxk","Type":"NodeParagraph","Properties":{"id":"20230921171542-y324bxk","updated":"20230921171604"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"dst"},{"Type":"NodeText","Data":"​​目标文件系统","Properties":{"id":""}}]}]}]}]},{"ID":"20230921172603-oa9hrn4","Type":"NodeListItem","Data":"4","ListData":{"Typ":1,"Tight":true,"Start":4,"Delimiter":46,"Padding":3,"Marker":"NA==","Num":4},"Properties":{"fold":"0","id":"20230921172603-oa9hrn4","updated":"20230921173709"},"Children":[{"ID":"20230921172603-yr5ve8l","Type":"NodeParagraph","Properties":{"id":"20230921172603-yr5ve8l","updated":"20230921172616"},"Children":[{"Type":"NodeText","Data":"查看 HDFS 文件内容","Properties":{"id":""}}]},{"ID":"20230921172621-7h8e07v","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921172621-7h8e07v","updated":"20230921173709"},"Children":[{"ID":"20230921172623-tbqyv30","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921172623-tbqyv30","updated":"20230921172623"},"Children":[{"ID":"20230921172623-sxr4ql6","Type":"NodeParagraph","Properties":{"id":"20230921172623-sxr4ql6","updated":"20230921172640"},"Children":[{"Type":"NodeText","Data":"hadoop fs -cat \u003csrc\u003e ...","Properties":{"id":""}}]}]},{"ID":"20230921172640-34hgz8a","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921172640-34hgz8a","updated":"20230921173709"},"Children":[{"ID":"20230921172640-f1vo93o","Type":"NodeParagraph","Properties":{"id":"20230921172640-f1vo93o","updated":"20230921172650"},"Children":[{"Type":"NodeText","Data":"hdfs dfs -cat \u003csrc\u003e ...","Properties":{"id":""}}]},{"ID":"20230921173605-ox81rfq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"aGFkb29w","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230921173605-ox81rfq","updated":"20230921173749"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aGFkb29w","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"hadoop fs -cat /itcast/words.txt\nhdfs dfs -cat /itcast/profile\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230921173557-cr80tv7","Type":"NodeParagraph","Properties":{"id":"20230921173557-cr80tv7","updated":"20230921173557"},"Children":[{"Type":"NodeText","Data":"读取大文件可以使用管道符配合 more","Properties":{"id":""}}]}]},{"ID":"20230921173622-fwtcu5g","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921173622-fwtcu5g","updated":"20230921173622"},"Children":[{"ID":"20230921173622-wc1hkt5","Type":"NodeParagraph","Properties":{"id":"20230921173622-wc1hkt5","updated":"20230921185313"},"Children":[{"Type":"NodeText","Data":"hadoop fs -cat \u003csrc\u003e | more","Properties":{"id":""}}]}]},{"ID":"20230921185313-3z4l0d0","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921185313-3z4l0d0","updated":"20230921185313"},"Children":[{"ID":"20230921185313-1scpwei","Type":"NodeParagraph","Properties":{"id":"20230921185313-1scpwei","updated":"20230921185330"},"Children":[{"Type":"NodeText","Data":"hdfs dfs -cat \u003csrc\u003e | more","Properties":{"id":""}}]}]}]}]},{"ID":"20230921185330-1hc50p9","Type":"NodeListItem","Data":"5","ListData":{"Typ":1,"Tight":true,"Start":5,"Delimiter":46,"Padding":3,"Marker":"NQ==","Num":5},"Properties":{"id":"20230921185330-1hc50p9","updated":"20230921185330"},"Children":[{"ID":"20230921185330-mzq8hmp","Type":"NodeParagraph","Properties":{"id":"20230921185330-mzq8hmp","updated":"20230921192303"},"Children":[{"Type":"NodeText","Data":"下载 HDFS 文件","Properties":{"id":""}}]},{"ID":"20230921192304-ixeh20p","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921192304-ixeh20p","updated":"20230921192307"},"Children":[{"ID":"20230921192307-zlxbfwm","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921192307-zlxbfwm","updated":"20230921192307"},"Children":[{"ID":"20230921192307-2df4sza","Type":"NodeParagraph","Properties":{"id":"20230921192307-2df4sza","updated":"20230921192333"},"Children":[{"Type":"NodeText","Data":"hadoop fs -get [-f] [-p] \u003csrc\u003e ... \u003clocaldst\u003e","Properties":{"id":""}}]}]},{"ID":"20230921192334-qfon83k","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921192334-qfon83k","updated":"20230921192334"},"Children":[{"ID":"20230921192334-hlgifoz","Type":"NodeParagraph","Properties":{"id":"20230921192334-hlgifoz","updated":"20230921192352"},"Children":[{"Type":"NodeText","Data":"hdfs dfs -get [-f] [-p] \u003csrc\u003e ... \u003clocaldst\u003e","Properties":{"id":""}}]},{"ID":"20230921192353-17gh12c","Type":"NodeParagraph","Properties":{"id":"20230921192353-17gh12c","updated":"20230921192417"},"Children":[{"Type":"NodeText","Data":"下载文件到本地文件系统指定目录，localdst 必须是目录","Properties":{"id":""}}]},{"ID":"20230921192418-xgzx6uk","Type":"NodeParagraph","Properties":{"id":"20230921192418-xgzx6uk","updated":"20230921192428"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-f"},{"Type":"NodeText","Data":" ​覆盖目标文件","Properties":{"id":""}}]},{"ID":"20230921192428-wcry8om","Type":"NodeParagraph","Properties":{"id":"20230921192428-wcry8om","updated":"20230921192447"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-p"},{"Type":"NodeText","Data":" ​保留访问和修改时间，所有权和权限","Properties":{"id":""}}]}]}]}]},{"ID":"20230921195059-vqs843y","Type":"NodeListItem","Data":"6","ListData":{"Typ":1,"Tight":true,"Start":6,"Delimiter":46,"Padding":3,"Marker":"Ng==","Num":6},"Properties":{"id":"20230921195059-vqs843y","updated":"20230921195059"},"Children":[{"ID":"20230921195059-jqvoq2k","Type":"NodeParagraph","Properties":{"id":"20230921195059-jqvoq2k","updated":"20230921195110"},"Children":[{"Type":"NodeText","Data":"拷贝 HDFS 文件","Properties":{"id":""}}]},{"ID":"20230921195113-awh1q3f","Type":"NodeList","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921195113-awh1q3f","updated":"20230921195115"},"Children":[{"ID":"20230921195115-f76xt06","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921195115-f76xt06","updated":"20230921195115"},"Children":[{"ID":"20230921195115-ortvor9","Type":"NodeParagraph","Properties":{"id":"20230921195115-ortvor9","updated":"20230921195133"},"Children":[{"Type":"NodeText","Data":"hadoop fs -cp [-f] \u003csrc\u003e ... \u003cdst\u003e","Properties":{"id":""}}]}]},{"ID":"20230921195133-06gvomg","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921195133-06gvomg","updated":"20230921195133"},"Children":[{"ID":"20230921195133-g3cps6u","Type":"NodeParagraph","Properties":{"id":"20230921195133-g3cps6u","updated":"20230921195151"},"Children":[{"Type":"NodeText","Data":"hdfs dfs -cp [-f] \u003csrc\u003e ... \u003cdst\u003e","Properties":{"id":""}}]}]}]}]},{"ID":"20230921195200-5zkft1x","Type":"NodeListItem","Data":"7","ListData":{"Typ":1,"Tight":true,"Start":7,"Delimiter":46,"Padding":3,"Marker":"Nw==","Num":7},"Properties":{"id":"20230921195200-5zkft1x","updated":"20230921195200"},"Children":[{"ID":"20230921195200-guo5j14","Type":"NodeParagraph","Properties":{"id":"20230921195200-guo5j14","updated":"20230921201930"},"Children":[{"Type":"NodeText","Data":"追加数据到 HDFS 文件中","Properties":{"id":""}}]},{"ID":"20230921201931-j3qyu82","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921201931-j3qyu82","updated":"20230921201932"},"Children":[{"ID":"20230921201932-phu2b8y","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921201932-phu2b8y","updated":"20230921201932"},"Children":[{"ID":"20230921201932-a9zjbbw","Type":"NodeParagraph","Properties":{"id":"20230921201932-a9zjbbw","updated":"20230921201951"},"Children":[{"Type":"NodeText","Data":"hadoop fs -appendTofile \u003clocalsrc\u003e ... \u003cdst\u003e","Properties":{"id":""}}]}]},{"ID":"20230921201951-f3y6x0f","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921201951-f3y6x0f","updated":"20230921201951"},"Children":[{"ID":"20230921201951-1x2manf","Type":"NodeParagraph","Properties":{"id":"20230921201951-1x2manf","updated":"20230921202010"},"Children":[{"Type":"NodeText","Data":"hdfs dfs -appendTofile \u003clocalsrc\u003e ... \u003cdst\u003e","Properties":{"id":""}}]},{"ID":"20230921202012-6gu6b70","Type":"NodeParagraph","Properties":{"id":"20230921202012-6gu6b70","updated":"20230921202134"},"Children":[{"Type":"NodeText","Data":"将所有给定本地文件的内容追加到给定 dst 文件，若 dst 文件不存在，将创建该文件。如果 ","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;localSrc\u0026gt;"},{"Type":"NodeText","Data":" ​为 ","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-"},{"Type":"NodeText","Data":"​，则输入为从标准输入中读取。","Properties":{"id":""}}]}]}]}]},{"ID":"20230921203649-1agkc01","Type":"NodeListItem","Data":"8","ListData":{"Typ":1,"Tight":true,"Start":8,"Delimiter":46,"Padding":3,"Marker":"OA==","Num":8},"Properties":{"id":"20230921203649-1agkc01","updated":"20230921203649"},"Children":[{"ID":"20230921203649-gnwck34","Type":"NodeParagraph","Properties":{"id":"20230921203649-gnwck34","updated":"20230921203701"},"Children":[{"Type":"NodeText","Data":"HDFS 数据移动操作","Properties":{"id":""}}]},{"ID":"20230921203702-zpx8tkl","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921203702-zpx8tkl","updated":"20230921203704"},"Children":[{"ID":"20230921203704-k2xmfjq","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921203704-k2xmfjq","updated":"20230921203704"},"Children":[{"ID":"20230921203704-wnvi83f","Type":"NodeParagraph","Properties":{"id":"20230921203704-wnvi83f","updated":"20230921203739"},"Children":[{"Type":"NodeText","Data":"hadoop fs -mv \u003csrc\u003e ... \u003cdst\u003e","Properties":{"id":""}}]}]},{"ID":"20230921203739-17nalf7","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921203739-17nalf7","updated":"20230921203739"},"Children":[{"ID":"20230921203739-5a3ug0q","Type":"NodeParagraph","Properties":{"id":"20230921203739-5a3ug0q","updated":"20230921203759"},"Children":[{"Type":"NodeText","Data":"hdfs dfs -mv \u003csrc\u003e ... \u003cdst\u003e","Properties":{"id":""}}]},{"ID":"20230921203800-m2v868m","Type":"NodeParagraph","Properties":{"id":"20230921203800-m2v868m","updated":"20230921203819"},"Children":[{"Type":"NodeText","Data":"可以重命名","Properties":{"id":""}}]}]}]}]},{"ID":"20230921203828-diwrpvd","Type":"NodeListItem","Data":"9","ListData":{"Typ":1,"Tight":true,"Start":9,"Delimiter":46,"Padding":3,"Marker":"OQ==","Num":9},"Properties":{"id":"20230921203828-diwrpvd","updated":"20230921203828"},"Children":[{"ID":"20230921203828-vdfotjq","Type":"NodeParagraph","Properties":{"id":"20230921203828-vdfotjq","updated":"20230921203837"},"Children":[{"Type":"NodeText","Data":"HDFS 数据删除操作","Properties":{"id":""}}]},{"ID":"20230921203838-4pql01u","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921203838-4pql01u","updated":"20230921203841"},"Children":[{"ID":"20230921203841-bkjwcb1","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921203841-bkjwcb1","updated":"20230921203841"},"Children":[{"ID":"20230921203841-2chs2pl","Type":"NodeParagraph","Properties":{"id":"20230921203841-2chs2pl","updated":"20230921204005"},"Children":[{"Type":"NodeText","Data":"hadoop fs -rm -r [-skipTrash] URI [URI ...]","Properties":{"id":""}}]}]},{"ID":"20230921203931-a2v399y","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230921203931-a2v399y","updated":"20230921203931"},"Children":[{"ID":"20230921203931-527zjww","Type":"NodeParagraph","Properties":{"id":"20230921203931-527zjww","updated":"20230921204001"},"Children":[{"Type":"NodeText","Data":"hdfs dfs -rm -r [-skipTrash] URI [URI ...]","Properties":{"id":""}}]},{"ID":"20230921204008-gqqarww","Type":"NodeParagraph","Properties":{"id":"20230921204008-gqqarww","updated":"20230921204030"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-skipTrash"},{"Type":"NodeText","Data":" ​跳过回收站直接删除","Properties":{"id":""}}]},{"ID":"20230921204727-vr8t8kr","Type":"NodeParagraph","Properties":{"id":"20230921204727-vr8t8kr","updated":"20230921204727"}},{"ID":"20230921204700-fi64r8r","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230921204700-fi64r8r","updated":"20230921205100"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"#\n\u003cproperty\u003e\n\u003cname\u003efs.trash.interval\u003c/name\u003e\n\u003cvalue\u003e1440\u003c/value\u003e\n\u003c/property\u003e\n\n\u003cproperty\u003e\n\u003cname\u003efs.trash.checkpoint.interval\u003c/name\u003e\n\u003cvalue\u003e120\u003c/value\u003e\n\u003c/property\u003e\n\n# 无需重启集群，在哪个机器配置的，在哪个机器执行命令就生效。回收站默认位置在：/user/用户名(hadoop)/.Trash\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]}]}]}]}]},{"ID":"20230922163041-632w3uf","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230922163041-632w3uf","updated":"20230922163108"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"HDFS 储存","Properties":{"id":""}}]},{"ID":"20230922163109-e9916du","Type":"NodeList","ListData":{"Typ":1,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20230922163109-e9916du","updated":"20230922163110"},"Children":[{"ID":"20230922163110-hut2wwk","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20230922163110-hut2wwk","updated":"20230922163110"},"Children":[{"ID":"20230922163110-pd255xk","Type":"NodeParagraph","Properties":{"id":"20230922163110-pd255xk","updated":"20230922163124"},"Children":[{"Type":"NodeText","Data":"HDFS 副本块数量的配置","Properties":{"id":""}}]},{"ID":"20230922163124-q61ili8","Type":"NodeParagraph","Properties":{"id":"20230922163124-q61ili8","updated":"20230922163204"},"Children":[{"Type":"NodeText","Data":"可以在上传文件的时候，临时决定被上传文件以多少个副本存储","Properties":{"id":""}}]},{"ID":"20230922163210-nd5sn4m","Type":"NodeParagraph","Properties":{"id":"20230922163210-nd5sn4m","updated":"20230922163336"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"hadoop fs -D dfs.replication=2 -put test.txt /tmp/"},{"Type":"NodeText","Data":" ​如该命令，就可以在上传 ","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"test.txt"},{"Type":"NodeText","Data":" ​文件时，临时设置其副本数为 2.","Properties":{"id":""}}]},{"ID":"20230922163336-6yq0bpa","Type":"NodeParagraph","Properties":{"id":"20230922163336-6yq0bpa","updated":"20230922163541"},"Children":[{"Type":"NodeText","Data":"对于已经存在 HDFS 的文件，修改 ","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"dfs.replication"},{"Type":"NodeText","Data":" ​属性不会生效，可通过命令 ","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"hadoop fs -setrep [-R] 2 path"},{"Type":"NodeText","Data":" ​将指定 path 的内容将会被修改为 2 个副本储存。","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-R"},{"Type":"NodeText","Data":" ​选项表示对子目录也生效。","Properties":{"id":""}}]}]},{"ID":"20230922163547-z9nl5iy","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20230922163547-z9nl5iy","updated":"20230922163547"},"Children":[{"ID":"20230922163547-f9lat3b","Type":"NodeParagraph","Properties":{"id":"20230922163547-f9lat3b","updated":"20230922163601"},"Children":[{"Type":"NodeText","Data":"fsck 命令检查文件的副本数","Properties":{"id":""}}]},{"ID":"20230922163613-zhk6vw6","Type":"NodeParagraph","Properties":{"id":"20230922163613-zhk6vw6","updated":"20230922163637"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"hdfs dfs path [-file[-blocks[-locations]]]"},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]},{"ID":"20230922163639-t1bb260","Type":"NodeParagraph","Properties":{"id":"20230922163639-t1bb260","updated":"20230922163658"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-files"},{"Type":"NodeText","Data":" ​可以列出路径内的文件状态","Properties":{"id":""}}]},{"ID":"20230922163658-5thxskb","Type":"NodeParagraph","Properties":{"id":"20230922163658-5thxskb","updated":"20230922163726"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-files -blocks"},{"Type":"NodeText","Data":" ​输出文件块报告(几个块，多少副本)","Properties":{"id":""}}]},{"ID":"20230922163726-5idilhw","Type":"NodeParagraph","Properties":{"id":"20230922163726-5idilhw","updated":"20230922163752"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-files -blocks -locations"},{"Type":"NodeText","Data":" ​输出每一个 block 的详情","Properties":{"id":""}}]}]}]},{"ID":"20230923103105-e4fh433","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230923103105-e4fh433","updated":"20230923103110"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"yarn","Properties":{"id":""}}]},{"ID":"20230923103113-dydn1hc","Type":"NodeParagraph","Properties":{"id":"20230923103113-dydn1hc","updated":"20230923103116"},"Children":[{"Type":"NodeText","Data":"node1:8088","Properties":{"id":""}}]},{"ID":"20230925103229-q8e3igi","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230925103229-q8e3igi","updated":"20230925103305"},"Children":[{"ID":"20230925103231-c78zzx1","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230925103231-c78zzx1","updated":"20230925103305"},"Children":[{"ID":"20230925103231-locih8c","Type":"NodeParagraph","Properties":{"id":"20230925103231-locih8c","updated":"20230925103239"},"Children":[{"Type":"NodeText","Data":"启动 historyserver","Properties":{"id":""}}]},{"ID":"20230925103239-gpis50w","Type":"NodeParagraph","Properties":{"id":"20230925103239-gpis50w","updated":"20230925103305"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"mapred --daemon start historyserver"},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]}]}]},{"ID":"20230923170824-z3w4k8q","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230923170824-z3w4k8q","updated":"20230923170833"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"HIVE","Properties":{"id":""}}]},{"ID":"20230923170834-kd8vhhl","Type":"NodeParagraph","Properties":{"id":"20230923170834-kd8vhhl","updated":"20230923171033"},"Children":[{"Type":"NodeText","Data":"Apache Hive 其 2 大主要组件就算:SQL 解析器以及元数据存储","Properties":{"id":""}}]},{"ID":"20230923171040-sy4bgb8","Type":"NodeParagraph","Properties":{"id":"20230923171040-sy4bgb8","updated":"20230923171040"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/image-20230923171040-373ubiv.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]},{"ID":"20230923171047-d5u7k21","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230923171047-d5u7k21","updated":"20230923171203"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"Hive 架构图","Properties":{"id":""}}]},{"ID":"20230923171247-3i0yfou","Type":"NodeParagraph","Properties":{"id":"20230923171247-3i0yfou","updated":"20230923171247"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/image-20230923171247-kb02853.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]},{"ID":"20230923171251-wz8d768","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230923171251-wz8d768","updated":"20231008212509"},"Children":[{"ID":"20230923171414-x6ss3g0","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230923171414-x6ss3g0","updated":"20230923171414"},"Children":[{"ID":"20230923171414-jfz1twm","Type":"NodeParagraph","Properties":{"id":"20230923171414-jfz1twm","updated":"20230923171420"},"Children":[{"Type":"NodeText","Data":"元数据存储","Properties":{"id":""}}]},{"ID":"20230923171421-4p2bids","Type":"NodeParagraph","Properties":{"id":"20230923171421-4p2bids","updated":"20230923171440"},"Children":[{"Type":"NodeText","Data":"存储在关系数据库如 mysql/derby 中。Hive 中的元数据包括表的名字，表的列和分区及其属性，表的属性（是否为外部表等），表的数据所在目录等。","Properties":{"id":""}},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":"Hive 提供了 Metastore 服务进程提供元数据管理功能"}]}]},{"ID":"20230923171441-1w2pw0x","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230923171441-1w2pw0x","updated":"20230923171441"},"Children":[{"ID":"20230923171441-2yhpc33","Type":"NodeParagraph","Properties":{"id":"20230923171441-2yhpc33","updated":"20230923171452"},"Children":[{"Type":"NodeText","Data":"Driver 驱动程序，包括语法解析器、计划编译器、优化器、执行器","Properties":{"id":""}}]},{"ID":"20230923171453-fkj08en","Type":"NodeParagraph","Properties":{"id":"20230923171453-fkj08en","updated":"20230923171505"},"Children":[{"Type":"NodeText","Data":"完成 HQL 查询语句从词法分析、语法分析、编译、优化以及查询计划的生成。生成的查询计划存储在 HDFS 中，并在随后有执行引擎调用执行。","Properties":{"id":""}}]},{"ID":"20230923171508-3mu74q9","Type":"NodeParagraph","Properties":{"id":"20230923171508-3mu74q9","updated":"20230923171512"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":"这部分内容不是具体的服务进程，而是封装在 Hive 所依赖的 Jar 文件即 Java 代码中。"}]}]},{"ID":"20230923171515-rehc6ps","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230923171515-rehc6ps","updated":"20230923171515"},"Children":[{"ID":"20230923171515-vj9fes3","Type":"NodeParagraph","Properties":{"id":"20230923171515-vj9fes3","updated":"20230923171524"},"Children":[{"Type":"NodeText","Data":"用户接口","Properties":{"id":""}}]},{"ID":"20230923171524-4d79w5c","Type":"NodeParagraph","Properties":{"id":"20230923171524-4d79w5c","updated":"20230923171533"},"Children":[{"Type":"NodeText","Data":"包括 CLI、JDBC/ODBC、WebGUI。其中，CLI(command line interface)为 shell 命令行；Hive 中的 Thrift 服务器允许外部客户端通过网络与 Hive 进行交互，类似于 JDBC 或 ODBC 协议。WebGUI 是通过浏览器访问 Hive。","Properties":{"id":""}}]},{"ID":"20230923171540-y8rex7h","Type":"NodeParagraph","Properties":{"id":"20230923171540-y8rex7h","updated":"20230923171545"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":"Hive 提供了 Hive Shell、 ThriftServer 等服务进程向用户提供操作接口"}]}]},{"ID":"20230923171549-mo00paq","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230923171549-mo00paq","updated":"20231008212509"},"Children":[{"ID":"20230923171549-5vog4wo","Type":"NodeParagraph","Properties":{"id":"20230923171549-5vog4wo","updated":"20230924154033"},"Children":[{"Type":"NodeText","Data":"启动 hive","Properties":{"id":""}}]},{"ID":"20230924154038-dbxnqc3","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230924154038-dbxnqc3","updated":"20231008212509"},"Children":[{"ID":"20230924154145-xxstupg","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230924154145-xxstupg","updated":"20230924154145"},"Children":[{"ID":"20230924154145-2jw6p2y","Type":"NodeParagraph","Properties":{"id":"20230924154145-2jw6p2y","updated":"20230924154211"},"Children":[{"Type":"NodeText","Data":"启动元数据管理服务(必须启动，在 hive 目录下启动)","Properties":{"id":""}}]},{"ID":"20230924154214-jomcj8y","Type":"NodeList","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230924154214-jomcj8y","updated":"20230924154214"},"Children":[{"ID":"20230924154037-c93c3o5","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230924154037-c93c3o5","updated":"20230924154037"},"Children":[{"ID":"20230924154037-ousxcdg","Type":"NodeParagraph","Properties":{"id":"20230924154037-ousxcdg","updated":"20230924154058"},"Children":[{"Type":"NodeText","Data":"前台启动 ","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"bin/hive --service metastore"},{"Type":"NodeText","Data":"​​","Properties":{"id":""}}]}]},{"ID":"20230924154059-19ojyh7","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230924154059-19ojyh7","updated":"20230924154059"},"Children":[{"ID":"20230924154059-x8o3mdx","Type":"NodeParagraph","Properties":{"id":"20230924154059-x8o3mdx","updated":"20230924154138"},"Children":[{"Type":"NodeText","Data":"后台启动 ","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"nohup bin/hive --service metastore \u0026gt;\u0026gt; logs/metastore.log 2\u0026gt;\u0026amp;1 \u0026amp;"},{"Type":"NodeText","Data":"​​","Properties":{"id":""}}]}]}]}]},{"ID":"20230924154218-fpt3pld","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230924154218-fpt3pld","updated":"20231008212509"},"Children":[{"ID":"20230924154218-ix8k95q","Type":"NodeParagraph","Properties":{"id":"20230924154218-ix8k95q","updated":"20230924154233"},"Children":[{"Type":"NodeText","Data":"启动客户端","Properties":{"id":""}}]},{"ID":"20230924154346-515kor8","Type":"NodeParagraph","Properties":{"id":"20230924154346-515kor8","updated":"20230924154346"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Hive Shell方式(可以直接写SQL) bin/hive"},{"Type":"NodeText","Data":"​​","Properties":{"id":""}}]},{"ID":"20231008212509-rnjsym8","Type":"NodeParagraph","Properties":{"id":"20231008212509-rnjsym8","updated":"20231008212509"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/image-20231008212509-dxrzicv.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]}]},{"ID":"20231008212402-l9qktrn","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231008212402-l9qktrn","updated":"20231008212402"},"Children":[{"ID":"20231008212402-ntyceit","Type":"NodeParagraph","Properties":{"id":"20231008212402-ntyceit","updated":"20231008212402"}}]}]}]}]},{"ID":"20230924154027-hxfkh5i","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230924154027-hxfkh5i","updated":"20230925111946"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"Hive 使用语法","Properties":{"id":""}}]},{"ID":"20230925111949-m6rohe5","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230925111949-m6rohe5","updated":"20230925111957"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"数据库操作","Properties":{"id":""}}]},{"ID":"20230925111957-twyj07w","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230925111957-twyj07w","updated":"20230925113126"},"Children":[{"ID":"20230925111959-bfa4jjp","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230925111959-bfa4jjp","updated":"20230925111959"},"Children":[{"ID":"20230925111959-2wjl6qr","Type":"NodeParagraph","Properties":{"id":"20230925111959-2wjl6qr","updated":"20230925112002"},"Children":[{"Type":"NodeText","Data":"创建数据库","Properties":{"id":""}}]},{"ID":"20230925112002-aezpj8h","Type":"NodeParagraph","Properties":{"id":"20230925112002-aezpj8h","updated":"20230925112102"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"create database if not exists myhive;"},{"Type":"NodeText","Data":"​ 创建名为 myhive 的数据库","Properties":{"id":""}}]}]},{"ID":"20230925112102-8v249xz","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230925112102-8v249xz","updated":"20230925112102"},"Children":[{"ID":"20230925112102-n4nlgex","Type":"NodeParagraph","Properties":{"id":"20230925112102-n4nlgex","updated":"20230925112142"},"Children":[{"Type":"NodeText","Data":"查看数据库详细信息","Properties":{"id":""}}]},{"ID":"20230925112143-2wxl31y","Type":"NodeParagraph","Properties":{"id":"20230925112143-2wxl31y","updated":"20230925112217"},"Children":[{"Type":"NodeText","Data":"desc database myhive","Properties":{"id":""}}]},{"ID":"20230925112239-3yw0jio","Type":"NodeParagraph","Properties":{"id":"20230925112239-3yw0jio","updated":"20230925112239"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/image-20230925112239-v8itquv.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]}]},{"ID":"20230925112241-opu5zdf","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230925112241-opu5zdf","updated":"20230925113126"},"Children":[{"ID":"20230925112241-d93n8yg","Type":"NodeParagraph","Properties":{"id":"20230925112241-d93n8yg","updated":"20230925112619"},"Children":[{"Type":"NodeText","Data":"创建数据库并指定 hdfs 存储位置","Properties":{"id":""}}]},{"ID":"20230925112621-65n8e8t","Type":"NodeParagraph","Properties":{"id":"20230925112621-65n8e8t","updated":"20230925113126"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"create database myhive2 location 'user/hive/myhive2';"},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]}]}]},{"ID":"20230925112831-0okjnhx","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230925112831-0okjnhx","updated":"20231010215816"},"Children":[{"ID":"20230925112833-vy6r1z3","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230925112833-vy6r1z3","updated":"20230925112833"},"Children":[{"ID":"20230925112833-dwm9jgi","Type":"NodeParagraph","Properties":{"id":"20230925112833-dwm9jgi","updated":"20230925113047"},"Children":[{"Type":"NodeText","Data":"删除一个空数据库，如果数据库下有数据表，那么就会报错","Properties":{"id":""}}]},{"ID":"20230925113048-j2o0rv0","Type":"NodeParagraph","Properties":{"id":"20230925113048-j2o0rv0","updated":"20230925113109"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"drop database myhive;"},{"Type":"NodeText","Data":"​​","Properties":{"id":""}}]}]},{"ID":"20230925113132-obyio6u","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20230925113132-obyio6u","updated":"20230925113156"},"Children":[{"ID":"20230925113132-k1ukh18","Type":"NodeParagraph","Properties":{"id":"20230925113132-k1ukh18","updated":"20230925113137"},"Children":[{"Type":"NodeText","Data":"强制删除数据库","Properties":{"id":""}}]},{"ID":"20230925113137-rftwgpl","Type":"NodeParagraph","Properties":{"id":"20230925113137-rftwgpl","updated":"20230925113156"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"drop database myhive2 cascade;"},{"Type":"NodeText","Data":"​​","Properties":{"id":""}}]}]},{"ID":"20231007221910-u8floaw","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231007221910-u8floaw","updated":"20231007221910"},"Children":[{"ID":"20231007221911-uwez952","Type":"NodeParagraph","Properties":{"id":"20231007221911-uwez952","updated":"20231010100108"},"Children":[{"Type":"NodeText","Data":"内部表（CREATE TABLE table_name ......）","Properties":{"id":""}},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"未被 external 关键字修饰的即是内部表， 即普通表。 内部表又称管理表,内部表数据存储的位置由 hive.metastore.warehouse.dir 参数决定（默认：/user/hive/warehouse），","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"u","TextMarkTextContent":"删除内部表会直接删除元数据（metadata）及存储数据，因此内部表不适合和其他工具共享数据。"}]}]},{"ID":"20231007221927-x8v0msz","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231007221927-x8v0msz","updated":"20231007221927"},"Children":[{"ID":"20231007221927-2btkt6g","Type":"NodeParagraph","Properties":{"id":"20231007221927-2btkt6g","updated":"20231010100819"},"Children":[{"Type":"NodeText","Data":"外部表（CREATE EXTERNAL TABLE table_name ......LOCATION......）","Properties":{"id":""}},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"被 external 关键字修饰的即是外部表， 即关联表。","Properties":{"id":""}},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"外部表是指表数据可以在任何位置，通过 LOCATION 关键字指定。 数据存储的不同也代表了这个表在理念是并不是 Hive 内部管理的，而是可以随意临时链接到外部数据上的。","Properties":{"id":""}},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"所以，","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"u","TextMarkTextContent":"在删除外部表的时候， 仅仅是删除元数据（表的信息），不会删除数据本身。"}]},{"ID":"20231010100820-kta6ysg","Type":"NodeList","ListData":{"Typ":1,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20231010100820-kta6ysg","updated":"20231010100820"},"Children":[{"ID":"20231010100819-s4cx34v","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20231010100819-s4cx34v","updated":"20231010100819"},"Children":[{"ID":"20231010100819-v8zf7pv","Type":"NodeParagraph","Properties":{"id":"20231010100819-v8zf7pv","updated":"20231010100849"},"Children":[{"Type":"NodeText","Data":"先创建外部表，然后移动数据刀 LOCATION 目录","Properties":{"id":""}}]},{"ID":"20231010100917-pt1hmul","Type":"NodeList","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231010100917-pt1hmul","updated":"20231010100920"},"Children":[{"ID":"20231010100920-w09mhfg","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231010100920-w09mhfg","updated":"20231010100920"},"Children":[{"ID":"20231010100920-lmicvyo","Type":"NodeParagraph","Properties":{"id":"20231010100920-lmicvyo","updated":"20231010101004"},"Children":[{"Type":"NodeText","Data":"检查 ","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"hadoop fs -ls /tmp"},{"Type":"NodeText","Data":"​，确认不存在 ","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"/tmp/test_ext1"},{"Type":"NodeText","Data":" ​目录","Properties":{"id":""}}]}]},{"ID":"20231010101005-tv2023q","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231010101005-tv2023q","updated":"20231010101005"},"Children":[{"ID":"20231010101005-349f8i0","Type":"NodeParagraph","Properties":{"id":"20231010101005-349f8i0","updated":"20231010101129"},"Children":[{"Type":"NodeText","Data":"创建外部表：","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"create external table test_ext1(id int,name string) row format delimited fields terminated by '\\t' location '/tmp/test_ext1';"},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]}]},{"ID":"20231010101130-bn0t0kt","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231010101130-bn0t0kt","updated":"20231010101130"},"Children":[{"ID":"20231010101130-fvblo46","Type":"NodeParagraph","Properties":{"id":"20231010101130-fvblo46","updated":"20231010101208"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"select * from test_ext1"},{"Type":"NodeText","Data":" ​空结果，无数据","Properties":{"id":""}}]}]},{"ID":"20231010101209-ylt7l8w","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231010101209-ylt7l8w","updated":"20231010101209"},"Children":[{"ID":"20231010101209-19xbz1h","Type":"NodeParagraph","Properties":{"id":"20231010101209-19xbz1h","updated":"20231010101253"},"Children":[{"Type":"NodeText","Data":"上传数据:","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"hadoop fs -put test_external.txt /tmp/test_ext1/"},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]}]},{"ID":"20231010101254-k1n1fs7","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231010101254-k1n1fs7","updated":"20231010101254"},"Children":[{"ID":"20231010101254-cpg96ch","Type":"NodeParagraph","Properties":{"id":"20231010101254-cpg96ch","updated":"20231010101316"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"select * from test_ext1"},{"Type":"NodeText","Data":"​，即可看到数据","Properties":{"id":""}}]}]}]}]},{"ID":"20231010100850-gv5v1vy","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20231010100850-gv5v1vy","updated":"20231010100850"},"Children":[{"ID":"20231010100850-nctbg6x","Type":"NodeParagraph","Properties":{"id":"20231010100850-nctbg6x","updated":"20231010100914"},"Children":[{"Type":"NodeText","Data":"先存在数据，后创建外部表","Properties":{"id":""}}]},{"ID":"20231010101322-oglyxyv","Type":"NodeList","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231010101322-oglyxyv","updated":"20231010101328"},"Children":[{"ID":"20231010101328-oeewwdv","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231010101328-oeewwdv","updated":"20231010101328"},"Children":[{"ID":"20231010101328-wd7wavs","Type":"NodeParagraph","Properties":{"id":"20231010101328-wd7wavs","updated":"20231010101354"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"hadoop fs -mkdir /tmp/test_ext2"},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]}]},{"ID":"20231010101357-9f72wwy","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231010101357-9f72wwy","updated":"20231010101357"},"Children":[{"ID":"20231010101357-hm16nbi","Type":"NodeParagraph","Properties":{"id":"20231010101357-hm16nbi","updated":"20231010101443"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"hadoop fs -put test_external.txt /tmp/test_ext2/"},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]}]},{"ID":"20231010101445-kvtpb2p","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231010101445-kvtpb2p","updated":"20231010101445"},"Children":[{"ID":"20231010101445-xzqheqi","Type":"NodeParagraph","Properties":{"id":"20231010101445-xzqheqi","updated":"20231010101603"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"create external table test_ext2(id int name string) row format delimited fields terminated by '\\t' location '/tmp/test_ext2';"},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]}]},{"ID":"20231010101604-quhyjsq","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231010101604-quhyjsq","updated":"20231010101604"},"Children":[{"ID":"20231010101604-0l1oh4g","Type":"NodeParagraph","Properties":{"id":"20231010101604-0l1oh4g","updated":"20231010101615"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"select * from test_ext2;"},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]}]}]}]}]},{"ID":"20231009090615-fzzg2bq","Type":"NodeParagraph","Properties":{"id":"20231009090615-fzzg2bq","updated":"20231010101415"},"Children":[{"Type":"NodeText","Data":"数据在 HDFS 中以明文形式存在","Properties":{"id":""}}]},{"ID":"20231009090649-nedkoj4","Type":"NodeParagraph","Properties":{"id":"20231009090649-nedkoj4","updated":"20231009090649"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/image-20231009090649-lyq2j38.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]}]},{"ID":"20231009090650-pbrvic5","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"fold":"1","id":"20231009090650-pbrvic5","updated":"20231009090650"},"Children":[{"ID":"20231009090650-foglad6","Type":"NodeParagraph","Properties":{"id":"20231009090650-foglad6","updated":"20231010100020"},"Children":[{"Type":"NodeText","Data":"自定义分隔符","Properties":{"id":""}}]},{"ID":"20231010100020-bfuczg7","Type":"NodeParagraph","Properties":{"id":"20231010100020-bfuczg7","updated":"20231010100042"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"create table myhive.stu2(id int,name string)row format delimited fields terminated by '\\t';"},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]}]},{"ID":"20231010100044-jpvjbli","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"fold":"1","id":"20231010100044-jpvjbli","updated":"20231010100044"},"Children":[{"ID":"20231010100044-wsg119p","Type":"NodeParagraph","Properties":{"id":"20231010100044-wsg119p","updated":"20231010111453"},"Children":[{"Type":"NodeText","Data":"内外部表转换","Properties":{"id":""}}]},{"ID":"20231010111453-0pny7y7","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231010111453-0pny7y7","updated":"20231010111458"},"Children":[{"ID":"20231010111458-sjzdkfz","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231010111458-sjzdkfz","updated":"20231010111458"},"Children":[{"ID":"20231010111458-76fzvkf","Type":"NodeParagraph","Properties":{"id":"20231010111458-76fzvkf","updated":"20231010111501"},"Children":[{"Type":"NodeText","Data":"内转外","Properties":{"id":""}}]},{"ID":"20231010111518-ftm0lj7","Type":"NodeParagraph","Properties":{"id":"20231010111518-ftm0lj7","updated":"20231010111610"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"alter table stu set tblproperties('EXTERNAL'='TRUE');"},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]}]},{"ID":"20231010111507-66x3lce","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231010111507-66x3lce","updated":"20231010111507"},"Children":[{"ID":"20231010111507-gyn31vh","Type":"NodeParagraph","Properties":{"id":"20231010111507-gyn31vh","updated":"20231010111517"},"Children":[{"Type":"NodeText","Data":"外转内","Properties":{"id":""}}]},{"ID":"20231010111718-799qw4g","Type":"NodeParagraph","Properties":{"id":"20231010111718-799qw4g","updated":"20231010111729"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"alter table stu set tblproperties('EXTERNAL'='FALSE');"},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]}]}]}]},{"ID":"20231010172418-q7umlwz","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"fold":"0","id":"20231010172418-q7umlwz","updated":"20231010215816"},"Children":[{"ID":"20231010172418-4iac0wx","Type":"NodeParagraph","Properties":{"id":"20231010172418-4iac0wx","updated":"20231010214911"},"Children":[{"Type":"NodeText","Data":"hive 表数据导出 -insert overwrite 方式","Properties":{"id":""}}]},{"ID":"20231010214918-phmwxjg","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231010214918-phmwxjg","updated":"20231010215816"},"Children":[{"ID":"20231010214912-wlj5t7b","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231010214912-wlj5t7b","updated":"20231010214912"},"Children":[{"ID":"20231010214912-7n3vsa7","Type":"NodeParagraph","Properties":{"id":"20231010214912-7n3vsa7","updated":"20231010215000"},"Children":[{"Type":"NodeText","Data":"语法 ","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"insert overwrite [local] directory 'path' select_statement1 FROM from_statement;"},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]}]},{"ID":"20231010215001-hroskt0","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231010215001-hroskt0","updated":"20231010215001"},"Children":[{"ID":"20231010215001-vmca7dj","Type":"NodeParagraph","Properties":{"id":"20231010215001-vmca7dj","updated":"20231010215017"},"Children":[{"Type":"NodeText","Data":"将查询的结果导出到本地-使用默认分隔符","Properties":{"id":""}}]},{"ID":"20231010215018-8zxa6on","Type":"NodeParagraph","Properties":{"id":"20231010215018-8zxa6on","updated":"20231010215143"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"insert overwrite local diretory '/home/hadoop/export1' select  * from myhive.test_load;"},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]}]},{"ID":"20231010215145-vguytx9","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231010215145-vguytx9","updated":"20231010215145"},"Children":[{"ID":"20231010215145-6iu2p98","Type":"NodeParagraph","Properties":{"id":"20231010215145-6iu2p98","updated":"20231010215158"},"Children":[{"Type":"NodeText","Data":"将查询的结果导出到本地-指定分隔符","Properties":{"id":""}}]},{"ID":"20231010215200-dtfl9ob","Type":"NodeParagraph","Properties":{"id":"20231010215200-dtfl9ob","updated":"20231010215305"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"insert overwrite local directory '/home/hadoop/export2' row format delimited fields terminated by '\\t' select * from myhive.test_load;"},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]}]},{"ID":"20231010215309-pic0rgx","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231010215309-pic0rgx","updated":"20231010215816"},"Children":[{"ID":"20231010215309-m65kopn","Type":"NodeParagraph","Properties":{"id":"20231010215309-m65kopn","updated":"20231010215335"},"Children":[{"Type":"NodeText","Data":"将查询的结果导出到 HDFS 上(不带 local 关键字)","Properties":{"id":""}}]},{"ID":"20231010215337-bu45qvd","Type":"NodeParagraph","Properties":{"id":"20231010215337-bu45qvd","updated":"20231010215816"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"insert overwrite directory '/tmp/export' row format delimited fields terminated by '\\t' select * from myhive.test_load;"},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]}]}]}]}]},{"ID":"20231010100039-vk79l6u","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20231010100039-vk79l6u","updated":"20231016202508"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"分区表","Properties":{"id":""}}]},{"ID":"20231016202509-yirpfr9","Type":"NodeParagraph","Properties":{"id":"20231016202509-yirpfr9","updated":"20231016202620"},"Children":[{"Type":"NodeText","Data":"可以把大的文件切割划分成一个个的小的文件，每次操作一个小的文件就会很容易","Properties":{"id":""}}]},{"ID":"20231016202629-6ugii4z","Type":"NodeParagraph","Properties":{"id":"20231016202629-6ugii4z","updated":"20231016203432"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeImage","Properties":{"id":"","parent-style":"width: 50%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/image-20231016202629-9hjdyqv.png","Properties":{"id":""}},{"Type":"NodeLinkSpace","Data":" ","Properties":{"id":""}},{"Type":"NodeLinkTitle","Data":"单分区表","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":"){: style=\"width: 10000px;\" parent-style=\"width: 50%;\"}​​![image](assets/image-20231016202655-hpo45gx.png \"多分区表(三级分区)\"){: style=\"width: 10000px;\" parent-style=\"width: 50%;\"}​","Properties":{"id":""}}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 50%;\"}","Properties":{"id":""}},{"Type":"NodeText","Data":"​​","Properties":{"id":""}},{"Type":"NodeImage","Properties":{"id":"","parent-style":"width: 50%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/image-20231016202655-hpo45gx.png","Properties":{"id":""}},{"Type":"NodeLinkSpace","Data":" ","Properties":{"id":""}},{"Type":"NodeLinkTitle","Data":"多分区表(三级分区)","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":"){: style=\"width: 10000px;\" parent-style=\"width: 50%;\"}​","Properties":{"id":""}}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 50%;\"}","Properties":{"id":""}},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]},{"ID":"20231016202711-5eti9qa","Type":"NodeParagraph","Properties":{"id":"20231016202711-5eti9qa","updated":"20231016202720"},"Children":[{"Type":"NodeText","Data":"基本语法:","Properties":{"id":""}}]},{"ID":"20231016202720-6zmgjtg","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20231016202720-6zmgjtg","updated":"20231016203810"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"# 创建分区语法\ncreate table tablename(...) partitioned by (分区列 列类型,...) row format delimited fields terminated by '';\n# 创建一个表带多个分区\ncreate table score2(s_id string,c_id string,s_score int) partitioned by (year string,month string,day string) row format delimited fields terminated by '\\t';\n# 加载数据到分区表中\nload data local inpath '/export/server/hivedatas/score.txt' into table score partition (month='202004');\n# 加载数据到一个多分区的表中\nload data local inpath '/export/server/hivedatas/score.txt' into table score2 partition (year='2020',month='04',day='01');\n# 查看分区\nshow partitions score;\n# 添加一个分区\nalter table score add partition (month='202004');\n# 同时添加多个分区 (添加分区之后就可以在hdfs文件系统当中看到表下面多了一个文件夹)\nalter table score add partition (month='202004') partition (month = '202005');\n# 删除分区\nalter table score drop partition (month='202006');\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20231016202829-ammqi9y","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20231016202829-ammqi9y","updated":"20231016210320"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"分桶表","Properties":{"id":""}}]},{"ID":"20231016210321-madqtho","Type":"NodeParagraph","Properties":{"id":"20231016210321-madqtho","updated":"20231016211128"},"Children":[{"Type":"NodeText","Data":"分桶和分区一样也是一种通过改变表的存储模式，从而完成对表优化的一种调优方式，但和分区不同，分区是将表拆分到不同的子文件夹中进行存储，而分桶是将表拆分到固定数量的不同文件中进行存储。","Properties":{"id":""}}]},{"ID":"20231016211006-tvdeu6i","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231016211006-tvdeu6i","updated":"20231016211940"},"Children":[{"ID":"20231016211643-0k4779r","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231016211643-0k4779r","updated":"20231016211940"},"Children":[{"ID":"20231016211643-j6irfr1","Type":"NodeParagraph","Properties":{"id":"20231016211643-j6irfr1","updated":"20231016211647"},"Children":[{"Type":"NodeText","Data":"分摊表创建","Properties":{"id":""}}]},{"ID":"20231016211648-x0bbgn0","Type":"NodeParagraph","Properties":{"id":"20231016211648-x0bbgn0","updated":"20231016211723"},"Children":[{"Type":"NodeText","Data":"开启分桶的自动优化 (自动匹配 reduce task 数量和桶数量一致)","Properties":{"id":""}}]},{"ID":"20231016211732-oly2dth","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20231016211732-oly2dth","updated":"20231016211940"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"set hive.enforce.bucketing=true;\n# 创建分桶表\ncreate table course (c_id string,c_name string,t_id string) clustered by(c_id) into 3 buckets row format delimited fields terminated by '\\t';\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]}]}]},{"ID":"20231016211944-vk76a5e","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231016211944-vk76a5e","updated":"20231016215430"},"Children":[{"ID":"20231016213112-6hfcxpm","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231016213112-6hfcxpm","updated":"20231016215430"},"Children":[{"ID":"20231016213112-rybhq93","Type":"NodeParagraph","Properties":{"id":"20231016213112-rybhq93","updated":"20231016213126"},"Children":[{"Type":"NodeText","Data":"分桶表数据加载","Properties":{"id":""}}]},{"ID":"20231016213128-qzlz4dk","Type":"NodeParagraph","Properties":{"id":"20231016213128-qzlz4dk","updated":"20231016213205"},"Children":[{"Type":"NodeText","Data":"桶表的数据加载，只能通过 ","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"insert select"},{"Type":"NodeText","Data":" ​所以比较好的方法是:","Properties":{"id":""}}]},{"ID":"20231016213205-dbbg9x1","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20231016213205-dbbg9x1","updated":"20231016213208"},"Children":[{"ID":"20231016213208-ibqcpz1","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20231016213208-ibqcpz1","updated":"20231016213208"},"Children":[{"ID":"20231016213208-bo9l8fd","Type":"NodeParagraph","Properties":{"id":"20231016213208-bo9l8fd","updated":"20231016213315"},"Children":[{"Type":"NodeText","Data":"创建一个临时表，通过 ","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"load data"},{"Type":"NodeText","Data":" ​加载数据进入表","Properties":{"id":""}}]}]},{"ID":"20231016213315-65ntmxw","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20231016213315-65ntmxw","updated":"20231016213315"},"Children":[{"ID":"20231016213315-m146mgj","Type":"NodeParagraph","Properties":{"id":"20231016213315-m146mgj","updated":"20231016213338"},"Children":[{"Type":"NodeText","Data":"然后通过 ","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"insert select"},{"Type":"NodeText","Data":" ​从临时表向桶表插入数据","Properties":{"id":""}}]}]}]},{"ID":"20231016213345-17q749o","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20231016213345-17q749o","updated":"20231016215430"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"# 创建普通表\ncreate table course_common (c_id string,c_name string,t_id string) row format delimited fields terminated by '\\t';\n# 普通表中加载数据\nload data local inpath '/export/server/hivedatas/course.txt' into table course_common;\n# 通过insert overwrite 给桶表加载数据\ninsert overwrite table course select * from course_common cluster by(c_id);\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]}]}]},{"ID":"20231016215202-0lceji2","Type":"NodeParagraph","Properties":{"id":"20231016215202-0lceji2","updated":"20231016215506"},"Children":[{"Type":"NodeText","Data":"在创建分桶表时注意","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":" cluster"},{"Type":"NodeText","Data":" 的写法:","Properties":{"id":""}},{"Type":"NodeImage","Properties":{"id":"","parent-style":"width: 75%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/image-20231016214724-7zaokpe.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 75%;\"}","Properties":{"id":""}},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]},{"ID":"20231016214750-ypci91j","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231016214750-ypci91j","updated":"20231016220154"},"Children":[{"ID":"20231016215549-73qgcer","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231016215549-73qgcer","updated":"20231016220154"},"Children":[{"ID":"20231016215549-l87cs9l","Type":"NodeParagraph","Properties":{"id":"20231016215549-l87cs9l","updated":"20231016215549"},"Children":[{"Type":"NodeText","Data":"为什么不可以用 ","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"load data"},{"Type":"NodeText","Data":" ​必须用 ","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"insert select"},{"Type":"NodeText","Data":" ​插入数据","Properties":{"id":""}}]},{"ID":"20231016215701-uriheeh","Type":"NodeParagraph","Properties":{"id":"20231016215701-uriheeh","updated":"20231016215720"},"Children":[{"Type":"NodeText","Data":"问题在于:如何将数据划分，划分的规则是什么?","Properties":{"id":""}}]},{"ID":"20231016215723-mafi13w","Type":"NodeParagraph","Properties":{"id":"20231016215723-mafi13w","updated":"20231016220154"},"Children":[{"Type":"NodeText","Data":"数据的划分是","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"基于分桶列的值进行 hash 取模"},{"Type":"NodeText","Data":"来决定的，由于 ","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"load data"},{"Type":"NodeText","Data":" ​不会触发 ","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"MapReduce"},{"Type":"NodeText","Data":" ​也就是没有计算过程，无法执行 Hash 算法，只是简单的移动数据而已，所以无法用于分桶表数据插入。","Properties":{"id":""}}]}]}]},{"ID":"20231016233827-pksqqep","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231016233827-pksqqep","updated":"20231016234013"},"Children":[{"ID":"20231016233836-b82vq1e","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231016233836-b82vq1e","updated":"20231016234013"},"Children":[{"ID":"20231016233836-vbttf9r","Type":"NodeParagraph","Properties":{"id":"20231016233836-vbttf9r","updated":"20231016233843"},"Children":[{"Type":"NodeText","Data":"性能提升","Properties":{"id":""}}]},{"ID":"20231016233843-714i1ai","Type":"NodeParagraph","Properties":{"id":"20231016233843-714i1ai","updated":"20231016233915"},"Children":[{"Type":"NodeText","Data":"分区表:在指定分区列的前提下，减少被操作的数据量，从而提示性能。","Properties":{"id":""}}]},{"ID":"20231016233915-vwnteli","Type":"NodeParagraph","Properties":{"id":"20231016233915-vwnteli","updated":"20231016234013"},"Children":[{"Type":"NodeText","Data":"分桶表:基于分桶列的特定操作，如:过滤、JOIN、分组、均可带来性能提升","Properties":{"id":""}}]}]}]},{"ID":"20231017155029-bgrxdyh","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20231017155029-bgrxdyh","updated":"20231017155041"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"修改表操作","Properties":{"id":""}}]},{"ID":"20231017155042-5b0x9r6","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231017155042-5b0x9r6","updated":"20231017155253"},"Children":[{"ID":"20231017155044-snmtl85","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231017155044-snmtl85","updated":"20231017155253"},"Children":[{"ID":"20231017155044-046wl3x","Type":"NodeParagraph","Properties":{"id":"20231017155044-046wl3x","updated":"20231017155048"},"Children":[{"Type":"NodeText","Data":"表重命名","Properties":{"id":""}}]},{"ID":"20231017155221-zcgruta","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20231017155221-zcgruta","style":"line-height: 22px;","updated":"20231017155253"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"alter table old_table_name rename to new_table_name;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]}]}]},{"ID":"20231017155258-7cq0v11","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231017155258-7cq0v11","updated":"20231017155736"},"Children":[{"ID":"20231017155300-lm0ndgu","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231017155300-lm0ndgu","updated":"20231017155736"},"Children":[{"ID":"20231017155300-je5y1fk","Type":"NodeParagraph","Properties":{"id":"20231017155300-je5y1fk","updated":"20231017155309"},"Children":[{"Type":"NodeText","Data":"修改表属性值","Properties":{"id":""}}]},{"ID":"20231017155311-ka6fu6o","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20231017155311-ka6fu6o","style":"line-height: 22px;","updated":"20231017155736"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"alter table table_name SET TBLPROPERTIES table_properties;\n# table_properties:(property_name = property_value,property_name = property_value,...)\n# ALTER TABLE table_name SET TBLPROPERTIES(\"EXTERNAL\"=\"TRUE\");  修改内外部表属性\n# ALTER TABLE table_name SET TBLPROPERTIES ('comment' = new_comment); 修改表注释\n\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]}]}]},{"ID":"20231017155750-j28vmqb","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231017155750-j28vmqb","updated":"20231017162949"},"Children":[{"ID":"20231017160344-0jbry8d","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231017160344-0jbry8d","updated":"20231017161223"},"Children":[{"ID":"20231017160344-w6xbjuv","Type":"NodeParagraph","Properties":{"id":"20231017160344-w6xbjuv","updated":"20231017160348"},"Children":[{"Type":"NodeText","Data":"添加分区","Properties":{"id":""}}]},{"ID":"20231017160438-5dntt3k","Type":"NodeParagraph","Properties":{"id":"20231017160438-5dntt3k","updated":"20231017161223"},"Children":[{"Type":"NodeText","Data":"新分区添加了但是空的没数据，需要手动添加或上传数据文件","Properties":{"id":""}}]},{"ID":"20231017160356-a5n1u32","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20231017160356-a5n1u32","style":"line-height: 22px;","updated":"20231017160424"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"alter table tablename add partition (month='202002');\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]}]},{"ID":"20231017160349-mfm44sl","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231017160349-mfm44sl","updated":"20231017162234"},"Children":[{"ID":"20231017160349-8f13auk","Type":"NodeParagraph","Properties":{"id":"20231017160349-8f13auk","updated":"20231017162234"},"Children":[{"Type":"NodeText","Data":"修改分区(修改元数据记录，HDFS 的实体文件夹不会改名但是在元数据中是改名了的,","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"内部表会改，外部表不会改"},{"Type":"NodeText","Data":")","Properties":{"id":""}}]},{"ID":"20231017160500-p298lap","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20231017160500-p298lap","style":"line-height: 22px;","updated":"20231017160555"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"alter table tablename partition (month = '202003') rename to partition (month='202202');\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]}]},{"ID":"20231017160351-th0b0gc","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231017160351-th0b0gc","updated":"20231017162949"},"Children":[{"ID":"20231017160351-3mm4syj","Type":"NodeParagraph","Properties":{"id":"20231017160351-3mm4syj","updated":"20231017162945"},"Children":[{"Type":"NodeText","Data":"删除分区(对于","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"内部表"},{"Type":"NodeText","Data":"而言删除元数据，数据本身还在，外部表则不在）","Properties":{"id":""}}]},{"ID":"20231017160602-tsr8xs9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20231017160602-tsr8xs9","style":"line-height: 22px;","updated":"20231017160629"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"alter table tablename drop partiton (month='202104');\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]}]}]},{"ID":"20231017164210-2y98rq8","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231017164210-2y98rq8","updated":"20231017164859"},"Children":[{"ID":"20231017164620-hnqfhw6","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231017164620-hnqfhw6","updated":"20231017164620"},"Children":[{"ID":"20231017164620-secfyer","Type":"NodeParagraph","Properties":{"id":"20231017164620-secfyer","updated":"20231017164625"},"Children":[{"Type":"NodeText","Data":"添加列","Properties":{"id":""}}]},{"ID":"20231017164641-atw8c0p","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20231017164641-atw8c0p","style":"line-height: 22px;","updated":"20231017164705"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"alter table table_name add columns (v1 int,v2 string);\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]}]},{"ID":"20231017164626-o8t4e3y","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231017164626-o8t4e3y","updated":"20231017164859"},"Children":[{"ID":"20231017164626-eynf1b0","Type":"NodeParagraph","Properties":{"id":"20231017164626-eynf1b0","updated":"20231017164630"},"Children":[{"Type":"NodeText","Data":"修改列名","Properties":{"id":""}}]},{"ID":"20231017164709-nl0em88","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20231017164709-nl0em88","style":"line-height: 22px;","updated":"20231017164859"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"alter table test_change change v1 v1newname int;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]}]},{"ID":"20231017164630-gw13721","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231017164630-gw13721","updated":"20231017164630"},"Children":[{"ID":"20231017164630-r1htfst","Type":"NodeParagraph","Properties":{"id":"20231017164630-r1htfst","updated":"20231017164633"},"Children":[{"Type":"NodeText","Data":"删除表","Properties":{"id":""}}]},{"ID":"20231017164748-4q9va38","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20231017164748-4q9va38","style":"line-height: 22px;","updated":"20231017164756"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"drop table tablename;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]}]},{"ID":"20231017164633-d6tsij0","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231017164633-d6tsij0","updated":"20231017164830"},"Children":[{"ID":"20231017164633-bzxgwgz","Type":"NodeParagraph","Properties":{"id":"20231017164633-bzxgwgz","updated":"20231017164637"},"Children":[{"Type":"NodeText","Data":"清空表","Properties":{"id":""}}]},{"ID":"20231017164759-6gltd5h","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20231017164759-6gltd5h","style":"line-height: 22px;","updated":"20231017164809"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"truncate table tablename;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20231017164637-8yk3c0k","Type":"NodeParagraph","Properties":{"id":"20231017164637-8yk3c0k","updated":"20231017164830"},"Children":[{"Type":"NodeText","Data":"ps:只可以清空内部表","Properties":{"id":""}}]}]}]},{"ID":"20231017165509-zc4qhxm","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20231017165509-zc4qhxm","updated":"20231017171809"},"Children":[{"Type":"NodeText","Data":"数据查询"}]},{"ID":"20231017171812-594zo7c","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20231017171812-594zo7c","updated":"20231017172351"},"Children":[{"Type":"NodeText","Data":"SELECT 基本查询"}]},{"ID":"20231017172351-n6y5bzc","Type":"NodeList","ListData":{},"Properties":{"id":"20231017172351-n6y5bzc","updated":"20231017172958"},"Children":[{"ID":"20231017172353-fdd2354","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231017172353-fdd2354","updated":"20231017172353"},"Children":[{"ID":"20231017172353-sh7e9z4","Type":"NodeParagraph","Properties":{"id":"20231017172353-sh7e9z4","updated":"20231017172357"},"Children":[{"Type":"NodeText","Data":"查询所有"}]},{"ID":"20231017172402-e9n8uiv","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231017172402-e9n8uiv","style":"line-height: 22px;","updated":"20231017172426"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"select * from orderdb.orders;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20231017172357-2kzvq6g","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231017172357-2kzvq6g","updated":"20231017172958"},"Children":[{"ID":"20231017172357-jjguwa9","Type":"NodeParagraph","Properties":{"id":"20231017172357-jjguwa9","updated":"20231017172401"},"Children":[{"Type":"NodeText","Data":"查询单列"}]},{"ID":"20231017172428-8gilvzv","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231017172428-8gilvzv","style":"line-height: 22px;","updated":"20231017172958"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"select orderid,totalmoney,username,useraddres,paytime from orderdb.orders;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20231017173000-3a2bw00","Type":"NodeList","ListData":{},"Properties":{"id":"20231017173000-3a2bw00","updated":"20231017173030"},"Children":[{"ID":"20231017173001-i26g9k0","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231017173001-i26g9k0","updated":"20231017173030"},"Children":[{"ID":"20231017173001-0guzwhl","Type":"NodeParagraph","Properties":{"id":"20231017173001-0guzwhl","updated":"20231017173008"},"Children":[{"Type":"NodeText","Data":"查询数据量"}]},{"ID":"20231017173008-yureikt","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231017173008-yureikt","style":"line-height: 22px;","updated":"20231017173030"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"select count(*) from orderdb.orders;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20231017173031-ktuq8lt","Type":"NodeList","ListData":{},"Properties":{"id":"20231017173031-ktuq8lt","updated":"20231017173119"},"Children":[{"ID":"20231017173032-n9nqmhg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231017173032-n9nqmhg","updated":"20231017173119"},"Children":[{"ID":"20231017173032-2xbuntc","Type":"NodeParagraph","Properties":{"id":"20231017173032-2xbuntc","updated":"20231017173041"},"Children":[{"Type":"NodeText","Data":"过滤广东省订单"}]},{"ID":"20231017173042-o0vvjb8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231017173042-o0vvjb8","style":"line-height: 22px;","updated":"20231017173119"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"select * from orderdb.orders where useraddress like '%广东%';\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20231017173121-o1rre1n","Type":"NodeList","ListData":{},"Properties":{"id":"20231017173121-o1rre1n","updated":"20231017173840"},"Children":[{"ID":"20231017173121-cmt2089","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231017173121-cmt2089","updated":"20231017173840"},"Children":[{"ID":"20231017173121-t9wu2hn","Type":"NodeParagraph","Properties":{"id":"20231017173121-t9wu2hn","updated":"20231017173139"},"Children":[{"Type":"NodeText","Data":"找出广东省单笔营业额最大的订单"}]},{"ID":"20231017173140-3gdqy4p","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231017173140-3gdqy4p","style":"line-height: 22px;","updated":"20231017173840"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"select * from orderdb.orders where useraddress like '%广东%' order by totalmoney desc limit 1;\n# desc 降序，limit 1 最大的一个\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20231017173814-4ztrza8","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20231017173814-4ztrza8","updated":"20231017173929"},"Children":[{"Type":"NodeText","Data":"分组、聚合"}]},{"ID":"20231017215951-vh6ww09","Type":"NodeList","ListData":{},"Properties":{"id":"20231017215951-vh6ww09","updated":"20231017220127"},"Children":[{"ID":"20231017215953-efo5xwu","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231017215953-efo5xwu","updated":"20231017220127"},"Children":[{"ID":"20231017215953-mkbnvlr","Type":"NodeParagraph","Properties":{"id":"20231017215953-mkbnvlr","updated":"20231017220006"},"Children":[{"Type":"NodeText","Data":"统计未支付、已支付各自的人数"}]},{"ID":"20231017220007-l7ojjvz","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231017220007-l7ojjvz","style":"line-height: 22px;","updated":"20231017220127"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"select ispay,count(*) as cnt from orderdb.orders group by ispay;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20231017220131-g6hmik7","Type":"NodeList","ListData":{},"Properties":{"id":"20231017220131-g6hmik7","updated":"20231017224124"},"Children":[{"ID":"20231017224008-1lj17r9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231017224008-1lj17r9","updated":"20231017224124"},"Children":[{"ID":"20231017224008-tf0iawt","Type":"NodeParagraph","Properties":{"id":"20231017224008-tf0iawt","updated":"20231017224034"},"Children":[{"Type":"NodeText","Data":"在已付款订单中，统计每个用户最高的一笔消费金额"}]},{"ID":"20231017224034-wa79qiq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231017224034-wa79qiq","style":"line-height: 22px;","updated":"20231017224124"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"select userid,MAX(totalmoney) as max_money from orderdb.orders where ispay = 1 group by userid;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20231017224127-augrelq","Type":"NodeList","ListData":{},"Properties":{"id":"20231017224127-augrelq","updated":"20231017232604"},"Children":[{"ID":"20231017224127-5z1cn2m","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231017224127-5z1cn2m","updated":"20231017232604"},"Children":[{"ID":"20231017224127-7wzbh2f","Type":"NodeParagraph","Properties":{"id":"20231017224127-7wzbh2f","updated":"20231017224143"},"Children":[{"Type":"NodeText","Data":"统计每个用户的平均订单消费额"}]},{"ID":"20231017224144-veark6c","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231017224144-veark6c","style":"line-height: 22px;","updated":"20231017232604"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"select userid,avg(totalmoney) as avg_money from orderdb.orders group by userid having avg_money \u003e 10000;\n# having 表示筛选，与where不同;where在分组前进行筛选的,而having是在分组后进行筛选\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20231017233111-rjabmlu","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20231017233111-rjabmlu","updated":"20231017233119"},"Children":[{"Type":"NodeText","Data":"JOIN"}]},{"ID":"20231017233120-8es88jn","Type":"NodeList","ListData":{},"Properties":{"id":"20231017233120-8es88jn","updated":"20231017235120"},"Children":[{"ID":"20231017233120-5ws41yp","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231017233120-5ws41yp","updated":"20231017234715"},"Children":[{"ID":"20231017233120-zuhhpw5","Type":"NodeParagraph","Properties":{"id":"20231017233120-zuhhpw5","updated":"20231017233706"},"Children":[{"Type":"NodeText","Data":"JOIN订单表和用户表，找出用户名"}]},{"ID":"20231017233732-eks365h","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231017233732-eks365h","style":"line-height: 22px;","updated":"20231017234715"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"# 内关联，目的是获取来自 orders 表的订单编号 (orderid)、用户ID (userid)，以及与之相关联的用户表中的用户名 (username)。\nselect o.orderid,o.userid,u.username,o.totalmoney,o.useraddress,o.paytime from orderdb.orders o join orderdb.users u on o.userid = u.userid;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20231017233707-bv3ud55","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231017233707-bv3ud55","updated":"20231017235120"},"Children":[{"ID":"20231017233707-ewchuw4","Type":"NodeParagraph","Properties":{"id":"20231017233707-ewchuw4","updated":"20231017233729"},"Children":[{"Type":"NodeText","Data":"左外关联，订单表和用户表，找出用户名"}]},{"ID":"20231017235110-gs5452r","Type":"NodeParagraph","Properties":{"id":"20231017235110-gs5452r","updated":"20231017235120"},"Children":[{"Type":"NodeTextMark","TextMarkType":"em","TextMarkTextContent":"左连接 ("},{"Type":"NodeTextMark","TextMarkType":"code em","TextMarkTextContent":"LEFT JOIN"},{"Type":"NodeTextMark","TextMarkType":"em","TextMarkTextContent":") 会返回左边表（"},{"Type":"NodeTextMark","TextMarkType":"code em","TextMarkTextContent":"orders"},{"Type":"NodeTextMark","TextMarkType":"em","TextMarkTextContent":"）中所有的记录，同时匹配右边表（"},{"Type":"NodeTextMark","TextMarkType":"code em","TextMarkTextContent":"users"},{"Type":"NodeTextMark","TextMarkType":"em","TextMarkTextContent":"）中相应条件的记录。如果右边表中没有匹配的记录，那么将会返回 "},{"Type":"NodeTextMark","TextMarkType":"code em","TextMarkTextContent":"NULL"},{"Type":"NodeTextMark","TextMarkType":"em","TextMarkTextContent":" 值。"}]},{"ID":"20231017233730-nei2okg","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231017233730-nei2okg","style":"line-height: 22px;","updated":"20231017234121"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"select o.orderid,o.userid,u.username,o.totalmoney,o.useraddres,o.paytime from orderdb.orders o left join orderdb.users u on o.userid = u.userid;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20231017234124-utrnmua","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20231017234124-utrnmua","updated":"20231020212401"},"Children":[{"Type":"NodeText","Data":"RLIKE"}]},{"ID":"20231020213302-apicnpu","Type":"NodeParagraph","Properties":{"id":"20231020213302-apicnpu"}},{"ID":"20231020212403-ft7snix","Type":"NodeParagraph","Properties":{"id":"20231020212403-ft7snix"}}]}