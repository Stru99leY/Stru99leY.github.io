{"ID":"20230921165025-klmxvqt","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230921165025-klmxvqt","title":"BigData","updated":"20231016211944"},"Children":[{"ID":"20230923103054-tnf9m3s","Type":"NodeParagraph","Properties":{"id":"20230923103054-tnf9m3s","updated":"20230923103059"},"Children":[{"Type":"NodeText","Data":"node1:9870"}]},{"ID":"20230921165250-5v7xs80","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230921165250-5v7xs80","updated":"20231014164141"},"Children":[{"Type":"NodeText","Data":"启动环境(要在hadoop用户下）"}]},{"ID":"20230921165309-cfkj4lu","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230921165309-cfkj4lu","updated":"20231014172017"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw="},{"Type":"NodeCodeBlockCode","Data":"# 1.启动hdfs\nstart-dfs.sh\n# 停止\nstop-dfs.sh\n# 2.启动yarn\nstart-yarn.sh\n# 3.启动历史服务器\nmapred --daemon start historyserver\n# 4.启动metastore(在hive目录下)\n#前台启动 bin/hive --service metastore\n#后台启动 nohup bin/hive --service metastore \u003e\u003e logs/metastore.log 2\u003e\u00261 \u0026\n# 5.启动hive\n#直接写SQL bin/hive\n#可供其他客户端链接 bin/hive --service hiveserver2\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230921165037-bce27uh","Type":"NodeParagraph","Properties":{"id":"20230921165037-bce27uh","updated":"20230921165037"},"Children":[{"Type":"NodeText","Data":"单独控制进程的启停。"}]},{"ID":"20230921165037-5h4qiw9","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20230921165037-5h4qiw9","updated":"20230921165037"},"Children":[{"ID":"20230921165037-5j3mj0m","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20230921165037-5j3mj0m","updated":"20230921165037"},"Children":[{"ID":"20230921165037-orhxofz","Type":"NodeParagraph","Properties":{"id":"20230921165037-orhxofz","updated":"20230921165037"},"Children":[{"Type":"NodeText","Data":"$HADOOP_HOME/sbin/hadoop-daemon.sh，此脚本可以单独控制所在机器的进程的启停"}]}]}]},{"ID":"20230921165037-penulzj","Type":"NodeParagraph","Properties":{"id":"20230921165037-penulzj","updated":"20230921165044"},"Children":[{"Type":"NodeText","Data":"用法：hadoop-daemon.sh (start|status|stop)(namenode|secondarynamenode|datanode)"}]},{"ID":"20230921165037-pk73vhg","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20230921165037-pk73vhg","updated":"20230921165037"},"Children":[{"ID":"20230921165037-u6ci1jn","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20230921165037-u6ci1jn","updated":"20230921165037"},"Children":[{"ID":"20230921165037-pmst7hw","Type":"NodeParagraph","Properties":{"id":"20230921165037-pmst7hw","updated":"20230921165037"},"Children":[{"Type":"NodeText","Data":"$HADOOP_HOME/bin/hdfs，此程序也可以用以单独控制所在机器的进程的启停"}]}]}]},{"ID":"20230921165037-52xupuc","Type":"NodeParagraph","Properties":{"id":"20230921165037-52xupuc","updated":"20230921165037"},"Children":[{"Type":"NodeText","Data":"用法：hdfs --daemon (start|status|stop) (namenode|secondarynamenode|datanode)"}]},{"ID":"20230921165025-zo1st8z","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230921165025-zo1st8z","updated":"20230921170346"},"Children":[{"Type":"NodeText","Data":"文件系统的操作命令"}]},{"ID":"20230921170347-drfn702","Type":"NodeParagraph","Properties":{"id":"20230921170347-drfn702","updated":"20230921170410"},"Children":[{"Type":"NodeText","Data":"Hadoop提供了两套命令:"}]},{"ID":"20230921170410-z5p6svk","Type":"NodeParagraph","Properties":{"id":"20230921170410-z5p6svk","updated":"20230921170431"},"Children":[{"Type":"NodeText","Data":"hadoop(老版本),用法:hadoop fs"}]},{"ID":"20230921170433-vgbvavz","Type":"NodeParagraph","Properties":{"id":"20230921170433-vgbvavz","updated":"20230921170501"},"Children":[{"Type":"NodeText","Data":"hdfs（新版本),用法:hdfs dfs"}]},{"ID":"20230921170508-bkim68t","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20230921170508-bkim68t","updated":"20230921173709"},"Children":[{"ID":"20230921170510-uz8n71w","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20230921170510-uz8n71w","updated":"20230921170510"},"Children":[{"ID":"20230921170510-ebsuviw","Type":"NodeParagraph","Properties":{"id":"20230921170510-ebsuviw","updated":"20230921170514"},"Children":[{"Type":"NodeText","Data":"创建文件夹"}]},{"ID":"20230921170515-ibrt6wy","Type":"NodeParagraph","Properties":{"id":"20230921170515-ibrt6wy","updated":"20230921170534"},"Children":[{"Type":"NodeText","Data":"hadoop fs -mkdir [-p] \u003cpath\u003e ..."}]},{"ID":"20230921170534-7vthoey","Type":"NodeParagraph","Properties":{"id":"20230921170534-7vthoey","updated":"20230921170552"},"Children":[{"Type":"NodeText","Data":"hdfs dfs -mkdir [-p] \u003cpath\u003e ..."}]},{"ID":"20230921170553-k47vy3u","Type":"NodeParagraph","Properties":{"id":"20230921170553-k47vy3u","updated":"20230921170609"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"path"},{"Type":"NodeText","Data":"​​为待创建目录"}]},{"ID":"20230921170611-yx8gkya","Type":"NodeParagraph","Properties":{"id":"20230921170611-yx8gkya","updated":"20230921170705"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"-p"},{"Type":"NodeText","Data":"​​选项与linux"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"mkdir"},{"Type":"NodeText","Data":"​​一致会沿着路径创建父目录"}]}]},{"ID":"20230921170721-akcww2k","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20230921170721-akcww2k"},"Children":[{"ID":"20230921170721-2hlz88x","Type":"NodeParagraph","Properties":{"id":"20230921170721-2hlz88x","updated":"20230921170732"},"Children":[{"Type":"NodeText","Data":"查看指定目录下内容"}]},{"ID":"20230921170733-hlv87y7","Type":"NodeList","ListData":{},"Properties":{"id":"20230921170733-hlv87y7","updated":"20230921170736"},"Children":[{"ID":"20230921170736-3vowk6d","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921170736-3vowk6d","updated":"20230921170736"},"Children":[{"ID":"20230921170736-75ipo20","Type":"NodeParagraph","Properties":{"id":"20230921170736-75ipo20","updated":"20230921170759"},"Children":[{"Type":"NodeText","Data":"hadoop fs -ls [-h] [-R] [\u003cpath\u003e...]"}]}]},{"ID":"20230921170801-gtgji7r","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921170801-gtgji7r"},"Children":[{"ID":"20230921170801-52pvmf2","Type":"NodeParagraph","Properties":{"id":"20230921170801-52pvmf2","updated":"20230921170820"},"Children":[{"Type":"NodeText","Data":"hdfs dfs -ls [-h] [-R] [\u003cpath\u003e...]"}]},{"ID":"20230921170822-iifa4mi","Type":"NodeParagraph","Properties":{"id":"20230921170822-iifa4mi","updated":"20230921170835"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"path"},{"Type":"NodeText","Data":"​​指定目录路径"}]},{"ID":"20230921170835-hsauvwm","Type":"NodeParagraph","Properties":{"id":"20230921170835-hsauvwm","updated":"20230921170850"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"-h"},{"Type":"NodeText","Data":"​​人性化显示文件size"}]},{"ID":"20230921170850-y30jxfc","Type":"NodeParagraph","Properties":{"id":"20230921170850-y30jxfc","updated":"20230921170906"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"-R"},{"Type":"NodeText","Data":"​​递归查看指定目录及其子目录"}]}]}]}]},{"ID":"20230921171300-yy6f442","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20230921171300-yy6f442"},"Children":[{"ID":"20230921171300-q7yq2ci","Type":"NodeParagraph","Properties":{"id":"20230921171300-q7yq2ci","updated":"20230921171334"},"Children":[{"Type":"NodeText","Data":"上次文件到HDFS指定目录下"}]},{"ID":"20230921171339-3zbqn64","Type":"NodeList","ListData":{},"Properties":{"id":"20230921171339-3zbqn64","updated":"20230921171341"},"Children":[{"ID":"20230921171341-z8lo5w7","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921171341-z8lo5w7","updated":"20230921171341"},"Children":[{"ID":"20230921171341-wfn7g81","Type":"NodeParagraph","Properties":{"id":"20230921171341-wfn7g81","updated":"20230921171410"},"Children":[{"Type":"NodeText","Data":"hadoop dfs -put [-f] [-p] \u003clocalsrc\u003e ... \u003cdst\u003e"}]}]},{"ID":"20230921171411-276vzdt","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921171411-276vzdt"},"Children":[{"ID":"20230921171411-ofgjlwz","Type":"NodeParagraph","Properties":{"id":"20230921171411-ofgjlwz","updated":"20230921171437"},"Children":[{"Type":"NodeText","Data":"hdfs dfs -put [-f] [-p] \u003clocalsrc\u003e ... \u003cdst\u003e"}]},{"ID":"20230921171439-ugeh0tr","Type":"NodeParagraph","Properties":{"id":"20230921171439-ugeh0tr","updated":"20230921171459"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"-f"},{"Type":"NodeText","Data":"​​覆盖目标文件(已存在下)"}]},{"ID":"20230921171459-njcj524","Type":"NodeParagraph","Properties":{"id":"20230921171459-njcj524","updated":"20230921171541"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"-p"},{"Type":"NodeText","Data":"​​保留访问和修改时间，(客户端所在机器）"}]},{"ID":"20230921171542-y324bxk","Type":"NodeParagraph","Properties":{"id":"20230921171542-y324bxk","updated":"20230921171604"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"dst"},{"Type":"NodeText","Data":"​​目标文件系统"}]}]}]}]},{"ID":"20230921172603-oa9hrn4","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NC4=","Num":4},"Properties":{"fold":"0","id":"20230921172603-oa9hrn4","updated":"20230921173709"},"Children":[{"ID":"20230921172603-yr5ve8l","Type":"NodeParagraph","Properties":{"id":"20230921172603-yr5ve8l","updated":"20230921172616"},"Children":[{"Type":"NodeText","Data":"查看HDFS文件内容"}]},{"ID":"20230921172621-7h8e07v","Type":"NodeList","ListData":{},"Properties":{"id":"20230921172621-7h8e07v","updated":"20230921173709"},"Children":[{"ID":"20230921172623-tbqyv30","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921172623-tbqyv30","updated":"20230921172623"},"Children":[{"ID":"20230921172623-sxr4ql6","Type":"NodeParagraph","Properties":{"id":"20230921172623-sxr4ql6","updated":"20230921172640"},"Children":[{"Type":"NodeText","Data":"hadoop fs -cat \u003csrc\u003e ..."}]}]},{"ID":"20230921172640-34hgz8a","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921172640-34hgz8a","updated":"20230921173709"},"Children":[{"ID":"20230921172640-f1vo93o","Type":"NodeParagraph","Properties":{"id":"20230921172640-f1vo93o","updated":"20230921172650"},"Children":[{"Type":"NodeText","Data":"hdfs dfs -cat \u003csrc\u003e ..."}]},{"ID":"20230921173605-ox81rfq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230921173605-ox81rfq","updated":"20230921173749"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aGFkb29w"},{"Type":"NodeCodeBlockCode","Data":"hadoop fs -cat /itcast/words.txt\nhdfs dfs -cat /itcast/profile\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230921173557-cr80tv7","Type":"NodeParagraph","Properties":{"id":"20230921173557-cr80tv7"},"Children":[{"Type":"NodeText","Data":"读取大文件可以使用管道符配合more "}]}]},{"ID":"20230921173622-fwtcu5g","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921173622-fwtcu5g"},"Children":[{"ID":"20230921173622-wc1hkt5","Type":"NodeParagraph","Properties":{"id":"20230921173622-wc1hkt5","updated":"20230921185313"},"Children":[{"Type":"NodeText","Data":"hadoop fs -cat \u003csrc\u003e | more"}]}]},{"ID":"20230921185313-3z4l0d0","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921185313-3z4l0d0"},"Children":[{"ID":"20230921185313-1scpwei","Type":"NodeParagraph","Properties":{"id":"20230921185313-1scpwei","updated":"20230921185330"},"Children":[{"Type":"NodeText","Data":"hdfs dfs -cat \u003csrc\u003e | more"}]}]}]}]},{"ID":"20230921185330-1hc50p9","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NS4=","Num":5},"Properties":{"id":"20230921185330-1hc50p9"},"Children":[{"ID":"20230921185330-mzq8hmp","Type":"NodeParagraph","Properties":{"id":"20230921185330-mzq8hmp","updated":"20230921192303"},"Children":[{"Type":"NodeText","Data":"下载HDFS文件"}]},{"ID":"20230921192304-ixeh20p","Type":"NodeList","ListData":{},"Properties":{"id":"20230921192304-ixeh20p","updated":"20230921192307"},"Children":[{"ID":"20230921192307-zlxbfwm","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921192307-zlxbfwm","updated":"20230921192307"},"Children":[{"ID":"20230921192307-2df4sza","Type":"NodeParagraph","Properties":{"id":"20230921192307-2df4sza","updated":"20230921192333"},"Children":[{"Type":"NodeText","Data":"hadoop fs -get [-f] [-p] \u003csrc\u003e ... \u003clocaldst\u003e"}]}]},{"ID":"20230921192334-qfon83k","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921192334-qfon83k"},"Children":[{"ID":"20230921192334-hlgifoz","Type":"NodeParagraph","Properties":{"id":"20230921192334-hlgifoz","updated":"20230921192352"},"Children":[{"Type":"NodeText","Data":"hdfs dfs -get [-f] [-p] \u003csrc\u003e ... \u003clocaldst\u003e"}]},{"ID":"20230921192353-17gh12c","Type":"NodeParagraph","Properties":{"id":"20230921192353-17gh12c","updated":"20230921192417"},"Children":[{"Type":"NodeText","Data":"下载文件到本地文件系统指定目录，localdst必须是目录"}]},{"ID":"20230921192418-xgzx6uk","Type":"NodeParagraph","Properties":{"id":"20230921192418-xgzx6uk","updated":"20230921192428"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"-f"},{"Type":"NodeText","Data":"​覆盖目标文件"}]},{"ID":"20230921192428-wcry8om","Type":"NodeParagraph","Properties":{"id":"20230921192428-wcry8om","updated":"20230921192447"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"-p"},{"Type":"NodeText","Data":"​保留访问和修改时间，所有权和权限"}]}]}]}]},{"ID":"20230921195059-vqs843y","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Ni4=","Num":6},"Properties":{"id":"20230921195059-vqs843y"},"Children":[{"ID":"20230921195059-jqvoq2k","Type":"NodeParagraph","Properties":{"id":"20230921195059-jqvoq2k","updated":"20230921195110"},"Children":[{"Type":"NodeText","Data":"拷贝HDFS文件"}]},{"ID":"20230921195113-awh1q3f","Type":"NodeList","ListData":{},"Properties":{"id":"20230921195113-awh1q3f","updated":"20230921195115"},"Children":[{"ID":"20230921195115-f76xt06","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921195115-f76xt06","updated":"20230921195115"},"Children":[{"ID":"20230921195115-ortvor9","Type":"NodeParagraph","Properties":{"id":"20230921195115-ortvor9","updated":"20230921195133"},"Children":[{"Type":"NodeText","Data":"hadoop fs -cp [-f] \u003csrc\u003e ... \u003cdst\u003e"}]}]},{"ID":"20230921195133-06gvomg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921195133-06gvomg"},"Children":[{"ID":"20230921195133-g3cps6u","Type":"NodeParagraph","Properties":{"id":"20230921195133-g3cps6u","updated":"20230921195151"},"Children":[{"Type":"NodeText","Data":"hdfs dfs -cp [-f] \u003csrc\u003e ... \u003cdst\u003e"}]}]}]}]},{"ID":"20230921195200-5zkft1x","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Ny4=","Num":7},"Properties":{"id":"20230921195200-5zkft1x"},"Children":[{"ID":"20230921195200-guo5j14","Type":"NodeParagraph","Properties":{"id":"20230921195200-guo5j14","updated":"20230921201930"},"Children":[{"Type":"NodeText","Data":"追加数据到HDFS文件中"}]},{"ID":"20230921201931-j3qyu82","Type":"NodeList","ListData":{},"Properties":{"id":"20230921201931-j3qyu82","updated":"20230921201932"},"Children":[{"ID":"20230921201932-phu2b8y","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921201932-phu2b8y","updated":"20230921201932"},"Children":[{"ID":"20230921201932-a9zjbbw","Type":"NodeParagraph","Properties":{"id":"20230921201932-a9zjbbw","updated":"20230921201951"},"Children":[{"Type":"NodeText","Data":"hadoop fs -appendTofile \u003clocalsrc\u003e ... \u003cdst\u003e"}]}]},{"ID":"20230921201951-f3y6x0f","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921201951-f3y6x0f"},"Children":[{"ID":"20230921201951-1x2manf","Type":"NodeParagraph","Properties":{"id":"20230921201951-1x2manf","updated":"20230921202010"},"Children":[{"Type":"NodeText","Data":"hdfs dfs -appendTofile \u003clocalsrc\u003e ... \u003cdst\u003e"}]},{"ID":"20230921202012-6gu6b70","Type":"NodeParagraph","Properties":{"id":"20230921202012-6gu6b70","updated":"20230921202134"},"Children":[{"Type":"NodeText","Data":"将所有给定本地文件的内容追加到给定dst文件，若dst文件不存在，将创建该文件。如果"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;localSrc\u0026gt;"},{"Type":"NodeText","Data":"​为"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"-"},{"Type":"NodeText","Data":"​，则输入为从标准输入中读取。"}]}]}]}]},{"ID":"20230921203649-1agkc01","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"OC4=","Num":8},"Properties":{"id":"20230921203649-1agkc01"},"Children":[{"ID":"20230921203649-gnwck34","Type":"NodeParagraph","Properties":{"id":"20230921203649-gnwck34","updated":"20230921203701"},"Children":[{"Type":"NodeText","Data":"HDFS数据移动操作"}]},{"ID":"20230921203702-zpx8tkl","Type":"NodeList","ListData":{},"Properties":{"id":"20230921203702-zpx8tkl","updated":"20230921203704"},"Children":[{"ID":"20230921203704-k2xmfjq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921203704-k2xmfjq","updated":"20230921203704"},"Children":[{"ID":"20230921203704-wnvi83f","Type":"NodeParagraph","Properties":{"id":"20230921203704-wnvi83f","updated":"20230921203739"},"Children":[{"Type":"NodeText","Data":"hadoop fs -mv \u003csrc\u003e ... \u003cdst\u003e"}]}]},{"ID":"20230921203739-17nalf7","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921203739-17nalf7"},"Children":[{"ID":"20230921203739-5a3ug0q","Type":"NodeParagraph","Properties":{"id":"20230921203739-5a3ug0q","updated":"20230921203759"},"Children":[{"Type":"NodeText","Data":"hdfs dfs -mv \u003csrc\u003e ... \u003cdst\u003e"}]},{"ID":"20230921203800-m2v868m","Type":"NodeParagraph","Properties":{"id":"20230921203800-m2v868m","updated":"20230921203819"},"Children":[{"Type":"NodeText","Data":"可以重命名"}]}]}]}]},{"ID":"20230921203828-diwrpvd","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"OS4=","Num":9},"Properties":{"id":"20230921203828-diwrpvd"},"Children":[{"ID":"20230921203828-vdfotjq","Type":"NodeParagraph","Properties":{"id":"20230921203828-vdfotjq","updated":"20230921203837"},"Children":[{"Type":"NodeText","Data":"HDFS数据删除操作"}]},{"ID":"20230921203838-4pql01u","Type":"NodeList","ListData":{},"Properties":{"id":"20230921203838-4pql01u","updated":"20230921203841"},"Children":[{"ID":"20230921203841-bkjwcb1","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921203841-bkjwcb1","updated":"20230921203841"},"Children":[{"ID":"20230921203841-2chs2pl","Type":"NodeParagraph","Properties":{"id":"20230921203841-2chs2pl","updated":"20230921204005"},"Children":[{"Type":"NodeText","Data":"hadoop fs -rm -r [-skipTrash] URI [URI ...]"}]}]},{"ID":"20230921203931-a2v399y","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921203931-a2v399y"},"Children":[{"ID":"20230921203931-527zjww","Type":"NodeParagraph","Properties":{"id":"20230921203931-527zjww","updated":"20230921204001"},"Children":[{"Type":"NodeText","Data":"hdfs dfs -rm -r [-skipTrash] URI [URI ...]"}]},{"ID":"20230921204008-gqqarww","Type":"NodeParagraph","Properties":{"id":"20230921204008-gqqarww","updated":"20230921204030"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"-skipTrash"},{"Type":"NodeText","Data":"​跳过回收站直接删除"}]},{"ID":"20230921204727-vr8t8kr","Type":"NodeParagraph","Properties":{"id":"20230921204727-vr8t8kr"}},{"ID":"20230921204700-fi64r8r","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230921204700-fi64r8r","updated":"20230921205100"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw="},{"Type":"NodeCodeBlockCode","Data":"#\n\u003cproperty\u003e\n\u003cname\u003efs.trash.interval\u003c/name\u003e\n\u003cvalue\u003e1440\u003c/value\u003e\n\u003c/property\u003e\n \n\u003cproperty\u003e\n\u003cname\u003efs.trash.checkpoint.interval\u003c/name\u003e\n\u003cvalue\u003e120\u003c/value\u003e\n\u003c/property\u003e\n\n# 无需重启集群，在哪个机器配置的，在哪个机器执行命令就生效。回收站默认位置在：/user/用户名(hadoop)/.Trash\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]}]}]},{"ID":"20230922163041-632w3uf","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230922163041-632w3uf","updated":"20230922163108"},"Children":[{"Type":"NodeText","Data":"HDFS储存"}]},{"ID":"20230922163109-e9916du","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20230922163109-e9916du","updated":"20230922163110"},"Children":[{"ID":"20230922163110-hut2wwk","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20230922163110-hut2wwk","updated":"20230922163110"},"Children":[{"ID":"20230922163110-pd255xk","Type":"NodeParagraph","Properties":{"id":"20230922163110-pd255xk","updated":"20230922163124"},"Children":[{"Type":"NodeText","Data":"HDFS副本块数量的配置"}]},{"ID":"20230922163124-q61ili8","Type":"NodeParagraph","Properties":{"id":"20230922163124-q61ili8","updated":"20230922163204"},"Children":[{"Type":"NodeText","Data":"可以在上传文件的时候，临时决定被上传文件以多少个副本存储"}]},{"ID":"20230922163210-nd5sn4m","Type":"NodeParagraph","Properties":{"id":"20230922163210-nd5sn4m","updated":"20230922163336"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hadoop fs -D dfs.replication=2 -put test.txt /tmp/"},{"Type":"NodeText","Data":"​如该命令，就可以在上传"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"test.txt"},{"Type":"NodeText","Data":"​文件时，临时设置其副本数为2."}]},{"ID":"20230922163336-6yq0bpa","Type":"NodeParagraph","Properties":{"id":"20230922163336-6yq0bpa","updated":"20230922163541"},"Children":[{"Type":"NodeText","Data":"对于已经存在HDFS的文件，修改"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"dfs.replication"},{"Type":"NodeText","Data":"​属性不会生效，可通过命令"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hadoop fs -setrep [-R] 2 path"},{"Type":"NodeText","Data":"​将指定path的内容将会被修改为2个副本储存。"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"-R"},{"Type":"NodeText","Data":"​选项表示对子目录也生效。"}]}]},{"ID":"20230922163547-z9nl5iy","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20230922163547-z9nl5iy"},"Children":[{"ID":"20230922163547-f9lat3b","Type":"NodeParagraph","Properties":{"id":"20230922163547-f9lat3b","updated":"20230922163601"},"Children":[{"Type":"NodeText","Data":"fsck命令检查文件的副本数"}]},{"ID":"20230922163613-zhk6vw6","Type":"NodeParagraph","Properties":{"id":"20230922163613-zhk6vw6","updated":"20230922163637"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hdfs dfs path [-file[-blocks[-locations]]]"},{"Type":"NodeText","Data":"​"}]},{"ID":"20230922163639-t1bb260","Type":"NodeParagraph","Properties":{"id":"20230922163639-t1bb260","updated":"20230922163658"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"-files"},{"Type":"NodeText","Data":"​可以列出路径内的文件状态"}]},{"ID":"20230922163658-5thxskb","Type":"NodeParagraph","Properties":{"id":"20230922163658-5thxskb","updated":"20230922163726"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"-files -blocks"},{"Type":"NodeText","Data":"​输出文件块报告(几个块，多少副本)"}]},{"ID":"20230922163726-5idilhw","Type":"NodeParagraph","Properties":{"id":"20230922163726-5idilhw","updated":"20230922163752"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"-files -blocks -locations"},{"Type":"NodeText","Data":"​输出每一个block的详情"}]}]}]},{"ID":"20230923103105-e4fh433","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230923103105-e4fh433","updated":"20230923103110"},"Children":[{"Type":"NodeText","Data":"yarn "}]},{"ID":"20230923103113-dydn1hc","Type":"NodeParagraph","Properties":{"id":"20230923103113-dydn1hc","updated":"20230923103116"},"Children":[{"Type":"NodeText","Data":"node1:8088"}]},{"ID":"20230925103229-q8e3igi","Type":"NodeList","ListData":{},"Properties":{"id":"20230925103229-q8e3igi","updated":"20230925103305"},"Children":[{"ID":"20230925103231-c78zzx1","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230925103231-c78zzx1","updated":"20230925103305"},"Children":[{"ID":"20230925103231-locih8c","Type":"NodeParagraph","Properties":{"id":"20230925103231-locih8c","updated":"20230925103239"},"Children":[{"Type":"NodeText","Data":"启动historyserver"}]},{"ID":"20230925103239-gpis50w","Type":"NodeParagraph","Properties":{"id":"20230925103239-gpis50w","updated":"20230925103305"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"mapred --daemon start historyserver"},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20230923170824-z3w4k8q","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230923170824-z3w4k8q","updated":"20230923170833"},"Children":[{"Type":"NodeText","Data":"HIVE"}]},{"ID":"20230923170834-kd8vhhl","Type":"NodeParagraph","Properties":{"id":"20230923170834-kd8vhhl","updated":"20230923171033"},"Children":[{"Type":"NodeText","Data":"Apache Hive其2大主要组件就算:SQL解析器以及元数据存储"}]},{"ID":"20230923171040-sy4bgb8","Type":"NodeParagraph","Properties":{"id":"20230923171040-sy4bgb8","updated":"20230923171040"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20230923171040-373ubiv.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20230923171047-d5u7k21","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230923171047-d5u7k21","updated":"20230923171203"},"Children":[{"Type":"NodeText","Data":"Hive架构图"}]},{"ID":"20230923171247-3i0yfou","Type":"NodeParagraph","Properties":{"id":"20230923171247-3i0yfou","updated":"20230923171247"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20230923171247-kb02853.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20230923171251-wz8d768","Type":"NodeList","ListData":{},"Properties":{"id":"20230923171251-wz8d768","updated":"20231008212509"},"Children":[{"ID":"20230923171414-x6ss3g0","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230923171414-x6ss3g0","updated":"20230923171414"},"Children":[{"ID":"20230923171414-jfz1twm","Type":"NodeParagraph","Properties":{"id":"20230923171414-jfz1twm","updated":"20230923171420"},"Children":[{"Type":"NodeText","Data":"元数据存储"}]},{"ID":"20230923171421-4p2bids","Type":"NodeParagraph","Properties":{"id":"20230923171421-4p2bids","updated":"20230923171440"},"Children":[{"Type":"NodeText","Data":"存储在关系数据库如 mysql/derby中。Hive 中的元数据包括表的名字，表的列和分区及其属性，表的属性（是否为外部表等），表的数据所在目录等。\n"},{"Type":"NodeTextMark","TextMarkType":"em","TextMarkTextContent":"Hive提供了 Metastore 服务进程提供元数据管理功能"}]}]},{"ID":"20230923171441-1w2pw0x","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230923171441-1w2pw0x"},"Children":[{"ID":"20230923171441-2yhpc33","Type":"NodeParagraph","Properties":{"id":"20230923171441-2yhpc33","updated":"20230923171452"},"Children":[{"Type":"NodeText","Data":"Driver驱动程序，包括语法解析器、计划编译器、优化器、执行器"}]},{"ID":"20230923171453-fkj08en","Type":"NodeParagraph","Properties":{"id":"20230923171453-fkj08en","updated":"20230923171505"},"Children":[{"Type":"NodeText","Data":"完成 HQL 查询语句从词法分析、语法分析、编译、优化以及查询计划的生成。生成的查询计划存储在 HDFS 中，并在随后有执行引擎调用执行。"}]},{"ID":"20230923171508-3mu74q9","Type":"NodeParagraph","Properties":{"id":"20230923171508-3mu74q9","updated":"20230923171512"},"Children":[{"Type":"NodeTextMark","TextMarkType":"em","TextMarkTextContent":"这部分内容不是具体的服务进程，而是封装在Hive所依赖的Jar文件即Java代码中。"}]}]},{"ID":"20230923171515-rehc6ps","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230923171515-rehc6ps"},"Children":[{"ID":"20230923171515-vj9fes3","Type":"NodeParagraph","Properties":{"id":"20230923171515-vj9fes3","updated":"20230923171524"},"Children":[{"Type":"NodeText","Data":"用户接口"}]},{"ID":"20230923171524-4d79w5c","Type":"NodeParagraph","Properties":{"id":"20230923171524-4d79w5c","updated":"20230923171533"},"Children":[{"Type":"NodeText","Data":"包括 CLI、JDBC/ODBC、WebGUI。其中，CLI(command line interface)为shell命令行；Hive中的Thrift服务器允许外部客户端通过网络与Hive进行交互，类似于JDBC或ODBC协议。WebGUI是通过浏览器访问Hive。"}]},{"ID":"20230923171540-y8rex7h","Type":"NodeParagraph","Properties":{"id":"20230923171540-y8rex7h","updated":"20230923171545"},"Children":[{"Type":"NodeTextMark","TextMarkType":"em","TextMarkTextContent":"Hive提供了 Hive Shell、 ThriftServer等服务进程向用户提供操作接口"}]}]},{"ID":"20230923171549-mo00paq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230923171549-mo00paq","updated":"20231008212509"},"Children":[{"ID":"20230923171549-5vog4wo","Type":"NodeParagraph","Properties":{"id":"20230923171549-5vog4wo","updated":"20230924154033"},"Children":[{"Type":"NodeText","Data":"启动hive"}]},{"ID":"20230924154038-dbxnqc3","Type":"NodeList","ListData":{},"Properties":{"id":"20230924154038-dbxnqc3","updated":"20231008212509"},"Children":[{"ID":"20230924154145-xxstupg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230924154145-xxstupg"},"Children":[{"ID":"20230924154145-2jw6p2y","Type":"NodeParagraph","Properties":{"id":"20230924154145-2jw6p2y","updated":"20230924154211"},"Children":[{"Type":"NodeText","Data":"启动元数据管理服务(必须启动，在hive目录下启动)"}]},{"ID":"20230924154214-jomcj8y","Type":"NodeList","ListData":{},"Properties":{"id":"20230924154214-jomcj8y"},"Children":[{"ID":"20230924154037-c93c3o5","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230924154037-c93c3o5"},"Children":[{"ID":"20230924154037-ousxcdg","Type":"NodeParagraph","Properties":{"id":"20230924154037-ousxcdg","updated":"20230924154058"},"Children":[{"Type":"NodeText","Data":"前台启动 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bin/hive --service metastore"},{"Type":"NodeText","Data":"​​"}]}]},{"ID":"20230924154059-19ojyh7","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230924154059-19ojyh7"},"Children":[{"ID":"20230924154059-x8o3mdx","Type":"NodeParagraph","Properties":{"id":"20230924154059-x8o3mdx","updated":"20230924154138"},"Children":[{"Type":"NodeText","Data":"后台启动 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"nohup bin/hive --service metastore \u0026gt;\u0026gt; logs/metastore.log 2\u0026gt;\u0026amp;1 \u0026amp;"},{"Type":"NodeText","Data":"​​"}]}]}]}]},{"ID":"20230924154218-fpt3pld","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230924154218-fpt3pld","updated":"20231008212509"},"Children":[{"ID":"20230924154218-ix8k95q","Type":"NodeParagraph","Properties":{"id":"20230924154218-ix8k95q","updated":"20230924154233"},"Children":[{"Type":"NodeText","Data":"启动客户端"}]},{"ID":"20230924154346-515kor8","Type":"NodeParagraph","Properties":{"id":"20230924154346-515kor8"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Hive Shell方式(可以直接写SQL) bin/hive"},{"Type":"NodeText","Data":"​​"}]},{"ID":"20231008212509-rnjsym8","Type":"NodeParagraph","Properties":{"id":"20231008212509-rnjsym8","updated":"20231008212509"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20231008212509-dxrzicv.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20231008212402-l9qktrn","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231008212402-l9qktrn"},"Children":[{"ID":"20231008212402-ntyceit","Type":"NodeParagraph","Properties":{"id":"20231008212402-ntyceit"}}]}]}]}]},{"ID":"20230924154027-hxfkh5i","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230924154027-hxfkh5i","updated":"20230925111946"},"Children":[{"Type":"NodeText","Data":"Hive使用语法"}]},{"ID":"20230925111949-m6rohe5","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230925111949-m6rohe5","updated":"20230925111957"},"Children":[{"Type":"NodeText","Data":"数据库操作"}]},{"ID":"20230925111957-twyj07w","Type":"NodeList","ListData":{},"Properties":{"id":"20230925111957-twyj07w","updated":"20230925113126"},"Children":[{"ID":"20230925111959-bfa4jjp","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230925111959-bfa4jjp","updated":"20230925111959"},"Children":[{"ID":"20230925111959-2wjl6qr","Type":"NodeParagraph","Properties":{"id":"20230925111959-2wjl6qr","updated":"20230925112002"},"Children":[{"Type":"NodeText","Data":"创建数据库"}]},{"ID":"20230925112002-aezpj8h","Type":"NodeParagraph","Properties":{"id":"20230925112002-aezpj8h","updated":"20230925112102"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"create database if not exists myhive;"},{"Type":"NodeText","Data":"​ 创建名为myhive的数据库"}]}]},{"ID":"20230925112102-8v249xz","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230925112102-8v249xz"},"Children":[{"ID":"20230925112102-n4nlgex","Type":"NodeParagraph","Properties":{"id":"20230925112102-n4nlgex","updated":"20230925112142"},"Children":[{"Type":"NodeText","Data":"查看数据库详细信息"}]},{"ID":"20230925112143-2wxl31y","Type":"NodeParagraph","Properties":{"id":"20230925112143-2wxl31y","updated":"20230925112217"},"Children":[{"Type":"NodeText","Data":"desc database myhive"}]},{"ID":"20230925112239-3yw0jio","Type":"NodeParagraph","Properties":{"id":"20230925112239-3yw0jio","updated":"20230925112239"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20230925112239-v8itquv.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20230925112241-opu5zdf","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230925112241-opu5zdf","updated":"20230925113126"},"Children":[{"ID":"20230925112241-d93n8yg","Type":"NodeParagraph","Properties":{"id":"20230925112241-d93n8yg","updated":"20230925112619"},"Children":[{"Type":"NodeText","Data":"创建数据库并指定hdfs存储位置"}]},{"ID":"20230925112621-65n8e8t","Type":"NodeParagraph","Properties":{"id":"20230925112621-65n8e8t","updated":"20230925113126"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"create database myhive2 location 'user/hive/myhive2';"},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20230925112831-0okjnhx","Type":"NodeList","ListData":{},"Properties":{"id":"20230925112831-0okjnhx","updated":"20231010215816"},"Children":[{"ID":"20230925112833-vy6r1z3","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230925112833-vy6r1z3","updated":"20230925112833"},"Children":[{"ID":"20230925112833-dwm9jgi","Type":"NodeParagraph","Properties":{"id":"20230925112833-dwm9jgi","updated":"20230925113047"},"Children":[{"Type":"NodeText","Data":"删除一个空数据库，如果数据库下有数据表，那么就会报错"}]},{"ID":"20230925113048-j2o0rv0","Type":"NodeParagraph","Properties":{"id":"20230925113048-j2o0rv0","updated":"20230925113109"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"drop database myhive;"},{"Type":"NodeText","Data":"​​"}]}]},{"ID":"20230925113132-obyio6u","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230925113132-obyio6u","updated":"20230925113156"},"Children":[{"ID":"20230925113132-k1ukh18","Type":"NodeParagraph","Properties":{"id":"20230925113132-k1ukh18","updated":"20230925113137"},"Children":[{"Type":"NodeText","Data":"强制删除数据库"}]},{"ID":"20230925113137-rftwgpl","Type":"NodeParagraph","Properties":{"id":"20230925113137-rftwgpl","updated":"20230925113156"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"drop database myhive2 cascade;"},{"Type":"NodeText","Data":"​​"}]}]},{"ID":"20231007221910-u8floaw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231007221910-u8floaw"},"Children":[{"ID":"20231007221911-uwez952","Type":"NodeParagraph","Properties":{"id":"20231007221911-uwez952","updated":"20231010100108"},"Children":[{"Type":"NodeText","Data":"内部表（CREATE TABLE table_name ......）\n未被external关键字修饰的即是内部表， 即普通表。 内部表又称管理表,内部表数据存储的位置由hive.metastore.warehouse.dir参数决定（默认：/user/hive/warehouse），"},{"Type":"NodeTextMark","TextMarkType":"u","TextMarkTextContent":"删除内部表会直接删除元数据（metadata）及存储数据，因此内部表不适合和其他工具共享数据。"}]}]},{"ID":"20231007221927-x8v0msz","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231007221927-x8v0msz"},"Children":[{"ID":"20231007221927-2btkt6g","Type":"NodeParagraph","Properties":{"id":"20231007221927-2btkt6g","updated":"20231010100819"},"Children":[{"Type":"NodeText","Data":"外部表（CREATE EXTERNAL TABLE table_name ......LOCATION......）\n被external关键字修饰的即是外部表， 即关联表。\n外部表是指表数据可以在任何位置，通过LOCATION关键字指定。 数据存储的不同也代表了这个表在理念是并不是Hive内部管理的，而是可以随意临时链接到外部数据上的。\n所以，"},{"Type":"NodeTextMark","TextMarkType":"u","TextMarkTextContent":"在删除外部表的时候， 仅仅是删除元数据（表的信息），不会删除数据本身。"}]},{"ID":"20231010100820-kta6ysg","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20231010100820-kta6ysg"},"Children":[{"ID":"20231010100819-s4cx34v","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20231010100819-s4cx34v"},"Children":[{"ID":"20231010100819-v8zf7pv","Type":"NodeParagraph","Properties":{"id":"20231010100819-v8zf7pv","updated":"20231010100849"},"Children":[{"Type":"NodeText","Data":"先创建外部表，然后移动数据刀LOCATION目录"}]},{"ID":"20231010100917-pt1hmul","Type":"NodeList","ListData":{},"Properties":{"id":"20231010100917-pt1hmul","updated":"20231010100920"},"Children":[{"ID":"20231010100920-w09mhfg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231010100920-w09mhfg","updated":"20231010100920"},"Children":[{"ID":"20231010100920-lmicvyo","Type":"NodeParagraph","Properties":{"id":"20231010100920-lmicvyo","updated":"20231010101004"},"Children":[{"Type":"NodeText","Data":"检查"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hadoop fs -ls /tmp"},{"Type":"NodeText","Data":"​，确认不存在"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/tmp/test_ext1"},{"Type":"NodeText","Data":"​目录"}]}]},{"ID":"20231010101005-tv2023q","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231010101005-tv2023q"},"Children":[{"ID":"20231010101005-349f8i0","Type":"NodeParagraph","Properties":{"id":"20231010101005-349f8i0","updated":"20231010101129"},"Children":[{"Type":"NodeText","Data":"创建外部表："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"create external table test_ext1(id int,name string) row format delimited fields terminated by '\\t' location '/tmp/test_ext1';"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20231010101130-bn0t0kt","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231010101130-bn0t0kt"},"Children":[{"ID":"20231010101130-fvblo46","Type":"NodeParagraph","Properties":{"id":"20231010101130-fvblo46","updated":"20231010101208"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"select * from test_ext1"},{"Type":"NodeText","Data":"​空结果，无数据"}]}]},{"ID":"20231010101209-ylt7l8w","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231010101209-ylt7l8w"},"Children":[{"ID":"20231010101209-19xbz1h","Type":"NodeParagraph","Properties":{"id":"20231010101209-19xbz1h","updated":"20231010101253"},"Children":[{"Type":"NodeText","Data":"上传数据:"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hadoop fs -put test_external.txt /tmp/test_ext1/"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20231010101254-k1n1fs7","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231010101254-k1n1fs7"},"Children":[{"ID":"20231010101254-cpg96ch","Type":"NodeParagraph","Properties":{"id":"20231010101254-cpg96ch","updated":"20231010101316"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"select * from test_ext1"},{"Type":"NodeText","Data":"​，即可看到数据"}]}]}]}]},{"ID":"20231010100850-gv5v1vy","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20231010100850-gv5v1vy"},"Children":[{"ID":"20231010100850-nctbg6x","Type":"NodeParagraph","Properties":{"id":"20231010100850-nctbg6x","updated":"20231010100914"},"Children":[{"Type":"NodeText","Data":"先存在数据，后创建外部表"}]},{"ID":"20231010101322-oglyxyv","Type":"NodeList","ListData":{},"Properties":{"id":"20231010101322-oglyxyv","updated":"20231010101328"},"Children":[{"ID":"20231010101328-oeewwdv","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231010101328-oeewwdv","updated":"20231010101328"},"Children":[{"ID":"20231010101328-wd7wavs","Type":"NodeParagraph","Properties":{"id":"20231010101328-wd7wavs","updated":"20231010101354"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hadoop fs -mkdir /tmp/test_ext2"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20231010101357-9f72wwy","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231010101357-9f72wwy"},"Children":[{"ID":"20231010101357-hm16nbi","Type":"NodeParagraph","Properties":{"id":"20231010101357-hm16nbi","updated":"20231010101443"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hadoop fs -put test_external.txt /tmp/test_ext2/"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20231010101445-kvtpb2p","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231010101445-kvtpb2p"},"Children":[{"ID":"20231010101445-xzqheqi","Type":"NodeParagraph","Properties":{"id":"20231010101445-xzqheqi","updated":"20231010101603"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"create external table test_ext2(id int name string) row format delimited fields terminated by '\\t' location '/tmp/test_ext2';"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20231010101604-quhyjsq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231010101604-quhyjsq"},"Children":[{"ID":"20231010101604-0l1oh4g","Type":"NodeParagraph","Properties":{"id":"20231010101604-0l1oh4g","updated":"20231010101615"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"select * from test_ext2;"},{"Type":"NodeText","Data":"​"}]}]}]}]}]},{"ID":"20231009090615-fzzg2bq","Type":"NodeParagraph","Properties":{"id":"20231009090615-fzzg2bq","updated":"20231010101415"},"Children":[{"Type":"NodeText","Data":"数据在HDFS中以明文形式存在"}]},{"ID":"20231009090649-nedkoj4","Type":"NodeParagraph","Properties":{"id":"20231009090649-nedkoj4","updated":"20231009090649"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20231009090649-lyq2j38.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20231009090650-pbrvic5","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"fold":"1","id":"20231009090650-pbrvic5"},"Children":[{"ID":"20231009090650-foglad6","Type":"NodeParagraph","Properties":{"id":"20231009090650-foglad6","updated":"20231010100020"},"Children":[{"Type":"NodeText","Data":"自定义分隔符"}]},{"ID":"20231010100020-bfuczg7","Type":"NodeParagraph","Properties":{"id":"20231010100020-bfuczg7","updated":"20231010100042"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"create table myhive.stu2(id int,name string)row format delimited fields terminated by '\\t';"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20231010100044-jpvjbli","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"fold":"1","id":"20231010100044-jpvjbli"},"Children":[{"ID":"20231010100044-wsg119p","Type":"NodeParagraph","Properties":{"id":"20231010100044-wsg119p","updated":"20231010111453"},"Children":[{"Type":"NodeText","Data":"内外部表转换"}]},{"ID":"20231010111453-0pny7y7","Type":"NodeList","ListData":{},"Properties":{"id":"20231010111453-0pny7y7","updated":"20231010111458"},"Children":[{"ID":"20231010111458-sjzdkfz","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231010111458-sjzdkfz","updated":"20231010111458"},"Children":[{"ID":"20231010111458-76fzvkf","Type":"NodeParagraph","Properties":{"id":"20231010111458-76fzvkf","updated":"20231010111501"},"Children":[{"Type":"NodeText","Data":"内转外"}]},{"ID":"20231010111518-ftm0lj7","Type":"NodeParagraph","Properties":{"id":"20231010111518-ftm0lj7","updated":"20231010111610"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"alter table stu set tblproperties('EXTERNAL'='TRUE');"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20231010111507-66x3lce","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231010111507-66x3lce"},"Children":[{"ID":"20231010111507-gyn31vh","Type":"NodeParagraph","Properties":{"id":"20231010111507-gyn31vh","updated":"20231010111517"},"Children":[{"Type":"NodeText","Data":"外转内"}]},{"ID":"20231010111718-799qw4g","Type":"NodeParagraph","Properties":{"id":"20231010111718-799qw4g","updated":"20231010111729"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"alter table stu set tblproperties('EXTERNAL'='FALSE');"},{"Type":"NodeText","Data":"​"}]}]}]}]},{"ID":"20231010172418-q7umlwz","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"fold":"0","id":"20231010172418-q7umlwz","updated":"20231010215816"},"Children":[{"ID":"20231010172418-4iac0wx","Type":"NodeParagraph","Properties":{"id":"20231010172418-4iac0wx","updated":"20231010214911"},"Children":[{"Type":"NodeText","Data":"hive表数据导出 -insert overwrite 方式"}]},{"ID":"20231010214918-phmwxjg","Type":"NodeList","ListData":{},"Properties":{"id":"20231010214918-phmwxjg","updated":"20231010215816"},"Children":[{"ID":"20231010214912-wlj5t7b","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231010214912-wlj5t7b"},"Children":[{"ID":"20231010214912-7n3vsa7","Type":"NodeParagraph","Properties":{"id":"20231010214912-7n3vsa7","updated":"20231010215000"},"Children":[{"Type":"NodeText","Data":"语法 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"insert overwrite [local] directory 'path' select_statement1 FROM from_statement;"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20231010215001-hroskt0","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231010215001-hroskt0"},"Children":[{"ID":"20231010215001-vmca7dj","Type":"NodeParagraph","Properties":{"id":"20231010215001-vmca7dj","updated":"20231010215017"},"Children":[{"Type":"NodeText","Data":"将查询的结果导出到本地-使用默认分隔符"}]},{"ID":"20231010215018-8zxa6on","Type":"NodeParagraph","Properties":{"id":"20231010215018-8zxa6on","updated":"20231010215143"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"insert overwrite local diretory '/home/hadoop/export1' select  * from myhive.test_load;"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20231010215145-vguytx9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231010215145-vguytx9"},"Children":[{"ID":"20231010215145-6iu2p98","Type":"NodeParagraph","Properties":{"id":"20231010215145-6iu2p98","updated":"20231010215158"},"Children":[{"Type":"NodeText","Data":"将查询的结果导出到本地-指定分隔符"}]},{"ID":"20231010215200-dtfl9ob","Type":"NodeParagraph","Properties":{"id":"20231010215200-dtfl9ob","updated":"20231010215305"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"insert overwrite local directory '/home/hadoop/export2' row format delimited fields terminated by '\\t' select * from myhive.test_load;"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20231010215309-pic0rgx","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231010215309-pic0rgx","updated":"20231010215816"},"Children":[{"ID":"20231010215309-m65kopn","Type":"NodeParagraph","Properties":{"id":"20231010215309-m65kopn","updated":"20231010215335"},"Children":[{"Type":"NodeText","Data":"将查询的结果导出到HDFS上(不带local关键字)"}]},{"ID":"20231010215337-bu45qvd","Type":"NodeParagraph","Properties":{"id":"20231010215337-bu45qvd","updated":"20231010215816"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"insert overwrite directory '/tmp/export' row format delimited fields terminated by '\\t' select * from myhive.test_load;"},{"Type":"NodeText","Data":"​"}]}]}]}]}]},{"ID":"20231010100039-vk79l6u","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20231010100039-vk79l6u","updated":"20231016202508"},"Children":[{"Type":"NodeText","Data":"分区表"}]},{"ID":"20231016202509-yirpfr9","Type":"NodeParagraph","Properties":{"id":"20231016202509-yirpfr9","updated":"20231016202620"},"Children":[{"Type":"NodeText","Data":"可以把大的文件切割划分成一个个的小的文件，每次操作一个小的文件就会很容易"}]},{"ID":"20231016202629-6ugii4z","Type":"NodeParagraph","Properties":{"id":"20231016202629-6ugii4z","updated":"20231016203432"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 50%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20231016202629-9hjdyqv.png"},{"Type":"NodeLinkSpace"},{"Type":"NodeLinkTitle","Data":"单分区表"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 50%;\"}"},{"Type":"NodeText","Data":"​​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 50%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20231016202655-hpo45gx.png"},{"Type":"NodeLinkSpace"},{"Type":"NodeLinkTitle","Data":"多分区表(三级分区)"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 50%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20231016202711-5eti9qa","Type":"NodeParagraph","Properties":{"id":"20231016202711-5eti9qa","updated":"20231016202720"},"Children":[{"Type":"NodeText","Data":"基本语法:"}]},{"ID":"20231016202720-6zmgjtg","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231016202720-6zmgjtg","updated":"20231016203810"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"# 创建分区语法\ncreate table tablename(...) partitioned by (分区列 列类型,...) row format delimited fields terminated by '';\n# 创建一个表带多个分区\ncreate table score2(s_id string,c_id string,s_score int) partitioned by (year string,month string,day string) row format delimited fields terminated by '\\t';\n# 加载数据到分区表中\nload data local inpath '/export/server/hivedatas/score.txt' into table score partition (month='202004');\n# 加载数据到一个多分区的表中\nload data local inpath '/export/server/hivedatas/score.txt' into table score2 partition (year='2020',month='04',day='01');\n# 查看分区\nshow partitions score;\n# 添加一个分区\nalter table score add partition (month='202004');\n# 同时添加多个分区 (添加分区之后就可以在hdfs文件系统当中看到表下面多了一个文件夹)\nalter table score add partition (month='202004') partition (month = '202005');\n# 删除分区\nalter table score drop partition (month='202006');\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20231016202829-ammqi9y","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20231016202829-ammqi9y","updated":"20231016210320"},"Children":[{"Type":"NodeText","Data":"分桶表"}]},{"ID":"20231016210321-madqtho","Type":"NodeParagraph","Properties":{"id":"20231016210321-madqtho","updated":"20231016211128"},"Children":[{"Type":"NodeText","Data":"分桶和分区一样也是一种通过改变表的存储模式，从而完成对表优化的一种调优方式，但和分区不同，分区是将表拆分到不同的子文件夹中进行存储，而分桶是将表拆分到固定数量的不同文件中进行存储。"}]},{"ID":"20231016211006-tvdeu6i","Type":"NodeList","ListData":{},"Properties":{"id":"20231016211006-tvdeu6i","updated":"20231016211940"},"Children":[{"ID":"20231016211643-0k4779r","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231016211643-0k4779r","updated":"20231016211940"},"Children":[{"ID":"20231016211643-j6irfr1","Type":"NodeParagraph","Properties":{"id":"20231016211643-j6irfr1","updated":"20231016211647"},"Children":[{"Type":"NodeText","Data":"分摊表创建"}]},{"ID":"20231016211648-x0bbgn0","Type":"NodeParagraph","Properties":{"id":"20231016211648-x0bbgn0","updated":"20231016211723"},"Children":[{"Type":"NodeText","Data":"开启分桶的自动优化 (自动匹配reduce task 数量和桶数量一致)"}]},{"ID":"20231016211732-oly2dth","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231016211732-oly2dth","updated":"20231016211940"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"set hive.enforce.bucketing=true;\n# 创建分桶表\ncreate table course (c_id string,c_name string,t_id string) clustered by(c_id) into 3 buckets row format delimited fields terminated by '\\t';\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20231016211944-vk76a5e","Type":"NodeParagraph","Properties":{"id":"20231016211944-vk76a5e"}}]}